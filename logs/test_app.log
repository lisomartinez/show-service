2019-04-12 10:51:34,938 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 20675 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:51:34,947 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:51:35,299 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:51:35,379 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71ms. Found 4 repository interfaces.
2019-04-12 10:51:35,417 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:51:35,559 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
2019-04-12 10:51:35,562 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:51:35,567 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.util.Assert.state(Assert.java:73)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactory.getEmbeddedDatabase(TestDatabaseAutoConfiguration.java:196)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean.afterPropertiesSet(TestDatabaseAutoConfiguration.java:161)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 92 common frames omitted
2019-04-12 10:51:35,617 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 20675 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:51:35,618 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:51:35,711 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:51:35,725 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 4 repository interfaces.
2019-04-12 10:51:35,733 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:51:35,754 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
2019-04-12 10:51:35,755 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:51:35,757 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.util.Assert.state(Assert.java:73) ~[spring-core-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactory.getEmbeddedDatabase(TestDatabaseAutoConfiguration.java:196) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean.afterPropertiesSet(TestDatabaseAutoConfiguration.java:161) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 91 common frames omitted
2019-04-12 10:51:35,759 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@305b7c14] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@ed7f8b4]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.util.Assert.state(Assert.java:73) ~[spring-core-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactory.getEmbeddedDatabase(TestDatabaseAutoConfiguration.java:196) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean.afterPropertiesSet(TestDatabaseAutoConfiguration.java:161) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 92 common frames omitted
2019-04-12 10:52:26,488 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 20806 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:52:26,489 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:52:26,924 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:52:27,052 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 112ms. Found 4 repository interfaces.
2019-04-12 10:52:27,090 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:52:27,283 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
2019-04-12 10:52:27,289 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:52:27,298 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.util.Assert.state(Assert.java:73)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactory.getEmbeddedDatabase(TestDatabaseAutoConfiguration.java:196)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean.afterPropertiesSet(TestDatabaseAutoConfiguration.java:161)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 92 common frames omitted
2019-04-12 10:52:27,392 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 20806 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:52:27,393 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:52:27,628 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:52:27,666 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37ms. Found 4 repository interfaces.
2019-04-12 10:52:27,704 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:52:27,747 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
2019-04-12 10:52:27,752 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:52:27,758 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.util.Assert.state(Assert.java:73) ~[spring-core-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactory.getEmbeddedDatabase(TestDatabaseAutoConfiguration.java:196) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean.afterPropertiesSet(TestDatabaseAutoConfiguration.java:161) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 91 common frames omitted
2019-04-12 10:52:27,764 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@305b7c14] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@ed7f8b4]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.util.Assert.state(Assert.java:73) ~[spring-core-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactory.getEmbeddedDatabase(TestDatabaseAutoConfiguration.java:196) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean.afterPropertiesSet(TestDatabaseAutoConfiguration.java:161) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 92 common frames omitted
2019-04-12 10:53:03,862 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 20939 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:53:03,863 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:53:04,223 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:53:04,294 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67ms. Found 4 repository interfaces.
2019-04-12 10:53:04,327 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:53:04,478 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:20c4517f-9f39-411b-8e26-f1e3c4bea77f;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 10:53:06,196 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 10:53:06,243 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 10:53:06,244 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 10:53:06,356 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 10:53:06,454 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 10:53:07,071 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cards]
2019-04-12 10:53:07,074 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:53:07,079 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cards]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cards]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:402)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 69 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cards]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:121)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)
	... 73 common frames omitted
2019-04-12 10:53:07,119 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 20939 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:53:07,119 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:53:07,225 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:53:07,243 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18ms. Found 4 repository interfaces.
2019-04-12 10:53:07,253 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:53:07,283 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:f76eb89d-2949-4ad3-825c-1c1dc8bc293a;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 10:53:08,422 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 10:53:08,428 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 10:53:08,547 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cards]
2019-04-12 10:53:08,548 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:53:08,550 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cards]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cards]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:402) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 68 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cards]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:121) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 72 common frames omitted
2019-04-12 10:53:08,553 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@609cd4d8] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@6ab778a]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cards]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cards]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:402) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 69 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [cards]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:121) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 73 common frames omitted
2019-04-12 10:54:07,007 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 21501 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:54:07,009 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:54:07,405 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:54:07,509 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 98ms. Found 4 repository interfaces.
2019-04-12 10:54:07,546 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:54:07,687 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:ff47f23e-0b3f-4e49-a31b-4553f41b42e9;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 10:54:07,896 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
2019-04-12 10:54:07,900 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:54:07,906 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.Parser.readTableOrView(Parser.java:5920)
	at org.h2.command.Parser.readTableFilter(Parser.java:1430)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parseCreateView(Parser.java:5340)
	at org.h2.command.Parser.parseCreate(Parser.java:4558)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 10:54:07,940 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 21501 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:54:07,940 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:54:08,051 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:54:08,065 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 4 repository interfaces.
2019-04-12 10:54:08,074 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:54:08,093 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:088d085c-2dbc-49bd-af62-67c182d9b663;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 10:54:08,151 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
2019-04-12 10:54:08,152 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:54:08,156 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableOrView(Parser.java:5920) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1430) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 10:54:08,160 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOWS" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableOrView(Parser.java:5920) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1430) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 10:54:15,363 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 21571 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:54:15,364 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:54:15,795 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:54:15,865 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62ms. Found 4 repository interfaces.
2019-04-12 10:54:15,894 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:54:16,019 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:4a3e609d-b687-4877-b938-4a6fdce75ad1;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 10:54:16,211 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
2019-04-12 10:54:16,214 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:54:16,219 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:70)
	at org.h2.command.CommandContainer.update(CommandContainer.java:102)
	at org.h2.command.Command.executeUpdate(Command.java:261)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 10:54:16,262 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 21571 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:54:16,262 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:54:16,418 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:54:16,439 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21ms. Found 4 repository interfaces.
2019-04-12 10:54:16,451 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:54:16,480 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:09ce040c-8038-4297-8571-3d214782ace7;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 10:54:16,536 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
2019-04-12 10:54:16,538 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:54:16,541 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:70) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 10:54:16,545 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:70) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 10:56:03,522 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 21692 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:56:03,524 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:56:03,934 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:56:04,019 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 77ms. Found 4 repository interfaces.
2019-04-12 10:56:04,049 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:56:04,185 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:f8f76d47-9cd6-4f99-ab32-aa3038841ff9;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 10:56:04,382 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
2019-04-12 10:56:04,386 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:56:04,392 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:70)
	at org.h2.command.CommandContainer.update(CommandContainer.java:102)
	at org.h2.command.Command.executeUpdate(Command.java:261)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 10:56:04,428 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 21692 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:56:04,429 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:56:04,556 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:56:04,574 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18ms. Found 4 repository interfaces.
2019-04-12 10:56:04,582 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:56:04,606 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:fc95c570-fa5a-4c5e-9ba2-5e0f2a57d201;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 10:56:04,652 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
2019-04-12 10:56:04,653 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:56:04,656 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:70) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 10:56:04,659 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:70) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 10:58:46,200 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22176 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:58:46,201 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:58:46,654 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:58:46,727 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65ms. Found 4 repository interfaces.
2019-04-12 10:58:46,759 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:58:46,903 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:a3d842ac-a09d-40f9-bc62-5504ba41326e;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 10:58:47,135 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
2019-04-12 10:58:47,139 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:58:47,144 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:70)
	at org.h2.command.CommandContainer.update(CommandContainer.java:102)
	at org.h2.command.Command.executeUpdate(Command.java:261)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 10:58:47,177 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22176 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:58:47,177 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:58:47,288 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:58:47,302 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 4 repository interfaces.
2019-04-12 10:58:47,310 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:58:47,329 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:ff5b891d-6653-49bd-a486-bf9b303f740f;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 10:58:47,379 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
2019-04-12 10:58:47,380 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:58:47,382 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:70) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 10:58:47,385 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create index idxshow_name on show (name); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create index idxshow_name on show (name) [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.CreateIndex.update(CreateIndex.java:70) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 10:59:21,583 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22253 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:59:21,584 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:59:21,951 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:59:22,024 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67ms. Found 4 repository interfaces.
2019-04-12 10:59:22,066 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:59:22,221 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:81c9480e-7be6-4795-9504-e20c7e1f15b5;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 10:59:22,459 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
2019-04-12 10:59:22,463 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:59:22,469 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:78)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:88)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:122)
	at org.h2.command.CommandContainer.update(CommandContainer.java:102)
	at org.h2.command.Command.executeUpdate(Command.java:261)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 10:59:22,503 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22253 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:59:22,504 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:59:22,605 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:59:22,635 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30ms. Found 4 repository interfaces.
2019-04-12 10:59:22,642 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:59:22,659 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:25c75eeb-eafc-40a7-a1e8-1e2c2d134bc6;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 10:59:22,704 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
2019-04-12 10:59:22,708 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:59:22,710 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:78) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:88) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:122) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 10:59:22,714 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ); nested exception is org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "SHOW" not found; SQL statement:
create table show_genre ( show_id integer not null, genre_id integer not null, constraint fk_show_genre_show foreign key (genre_id) references genre, constraint fk_show_genre_genre foreign key (show_id) references show ) [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:78) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:88) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:122) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 10:59:52,555 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22329 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:59:52,556 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:59:52,868 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:59:52,932 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59ms. Found 4 repository interfaces.
2019-04-12 10:59:52,962 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:59:53,115 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:1026b2f8-d51f-4c8d-b8dd-24cad061f882;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 10:59:53,359 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 10:59:53,363 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:59:53,369 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699)
	at org.h2.command.Parser.readFunction(Parser.java:2756)
	at org.h2.command.Parser.readTerm(Parser.java:3102)
	at org.h2.command.Parser.readFactor(Parser.java:2587)
	at org.h2.command.Parser.readSum(Parser.java:2574)
	at org.h2.command.Parser.readConcat(Parser.java:2544)
	at org.h2.command.Parser.readCondition(Parser.java:2370)
	at org.h2.command.Parser.readAnd(Parser.java:2342)
	at org.h2.command.Parser.readExpression(Parser.java:2334)
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.readJoin(Parser.java:1779)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parseCreateView(Parser.java:5340)
	at org.h2.command.Parser.parseCreate(Parser.java:4558)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 10:59:53,403 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22329 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 10:59:53,403 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 10:59:53,528 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 10:59:53,542 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 4 repository interfaces.
2019-04-12 10:59:53,551 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 10:59:53,569 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:602c0c2e-915c-4130-aed2-33d43b67f726;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 10:59:53,616 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 10:59:53,617 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 10:59:53,620 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 10:59:53,623 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:01:30,622 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22427 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:01:30,623 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:01:30,972 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:01:31,032 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54ms. Found 4 repository interfaces.
2019-04-12 11:01:31,061 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:01:31,202 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:c2e33904-5f0b-4a4d-9e64-daf9ef9a5ad6;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:01:31,370 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create schema `show-service-dev` collate utf8mb4_0900_ai_ci; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
2019-04-12 11:01:31,373 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:01:31,379 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create schema `show-service-dev` collate utf8mb4_0900_ai_ci; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create schema `show-service-dev` collate utf8mb4_0900_ai_ci; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create schema `show-service-dev` collate utf8mb4_0900_ai_ci; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create schema `show-service-dev` collate utf8mb4_0900_ai_ci; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.message.DbException.getSyntaxError(DbException.java:203)
	at org.h2.command.Parser.getSyntaxError(Parser.java:548)
	at org.h2.command.Parser.prepareCommand(Parser.java:281)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:01:31,414 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22427 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:01:31,414 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:01:31,509 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:01:31,523 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 4 repository interfaces.
2019-04-12 11:01:31,541 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:01:31,566 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:9bc9e461-16be-45d3-a64e-7565f86e1719;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:01:31,604 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create schema `show-service-dev` collate utf8mb4_0900_ai_ci; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
2019-04-12 11:01:31,605 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:01:31,608 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create schema `show-service-dev` collate utf8mb4_0900_ai_ci; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create schema `show-service-dev` collate utf8mb4_0900_ai_ci; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create schema `show-service-dev` collate utf8mb4_0900_ai_ci; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create schema `show-service-dev` collate utf8mb4_0900_ai_ci; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:203) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:548) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:281) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:01:31,611 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create schema `show-service-dev` collate utf8mb4_0900_ai_ci; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create schema `show-service-dev` collate utf8mb4_0900_ai_ci; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create schema `show-service-dev` collate utf8mb4_0900_ai_ci; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create schema `show-service-dev` collate utf8mb4_0900_ai_ci; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE SCHEMA ""SHOW-SERVICE-DEV"" COLLATE[*] UTF8MB4_0900_AI_CI "; SQL statement:
create schema `show-service-dev` collate utf8mb4_0900_ai_ci [42000-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:203) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:548) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:281) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:01:46,553 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22508 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:01:46,555 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:01:46,893 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:01:46,976 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 77ms. Found 4 repository interfaces.
2019-04-12 11:01:47,014 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:01:47,171 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:41b27d0b-132c-48d0-9936-77c0164dda27;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:01:47,386 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
2019-04-12 11:01:47,389 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:01:47,395 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:110)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:78)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:88)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:122)
	at org.h2.command.CommandContainer.update(CommandContainer.java:102)
	at org.h2.command.Command.executeUpdate(Command.java:261)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:01:47,431 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22508 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:01:47,431 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:01:47,609 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:01:47,632 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23ms. Found 4 repository interfaces.
2019-04-12 11:01:47,642 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:01:47,668 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:af5f8560-1940-4ed7-8f10-4aefc631d1e4;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:01:47,722 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
2019-04-12 11:01:47,723 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:01:47,726 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:110) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:78) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:88) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:122) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:01:47,729 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #6 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Constraint "TVMAZE_ID" already exists; SQL statement:
create table season ( show_id int not null, tvmaze_id int not null, season_id int auto_increment primary key, number int not null, episode_order int not null, premiere_date date not null, end_date date not null, summary varchar(10000) not null, image_url varchar(1000) not null, tvmaze_url varchar(1000) not null, constraint tvmaze_id unique (tvmaze_id), constraint fk_season_show foreign key (show_id) references shows (show_id) ) [90045-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:110) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:78) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:88) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:122) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.CommandContainer.update(CommandContainer.java:102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Command.executeUpdate(Command.java:261) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:233) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:02:55,379 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22595 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:02:55,380 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:02:55,786 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:02:55,869 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75ms. Found 4 repository interfaces.
2019-04-12 11:02:55,901 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:02:56,048 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:7aa62106-7e90-4653-8ca5-9acd9c13bd17;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:02:56,272 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
2019-04-12 11:02:56,276 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:02:56,281 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.getSyntaxError(DbException.java:217)
	at org.h2.command.Parser.getSyntaxError(Parser.java:555)
	at org.h2.command.Parser.read(Parser.java:3518)
	at org.h2.command.Parser.readIfMore(Parser.java:950)
	at org.h2.command.Parser.parseCreateTable(Parser.java:6571)
	at org.h2.command.Parser.parseCreate(Parser.java:4615)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:311)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:02:56,325 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22595 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:02:56,325 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:02:56,476 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:02:56,495 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19ms. Found 4 repository interfaces.
2019-04-12 11:02:56,504 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:02:56,527 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:fe52a815-4a78-4cb2-a46b-409004375ea4;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:02:56,574 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
2019-04-12 11:02:56,575 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:02:56,578 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:555) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.read(Parser.java:3518) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readIfMore(Parser.java:950) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateTable(Parser.java:6571) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4615) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:311) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:02:56,581 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT TVMAZE_ID UNIQUE (TVMAZE_ID), CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint tvmaze_id unique (tvmaze_id), constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:555) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.read(Parser.java:3518) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readIfMore(Parser.java:950) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateTable(Parser.java:6571) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4615) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:311) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:03:16,477 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22664 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:03:16,479 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:03:16,836 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:03:16,911 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 68ms. Found 4 repository interfaces.
2019-04-12 11:03:16,943 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:03:17,092 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:5e034b61-d5cb-43ac-8293-8827f066a929;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:03:17,303 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
2019-04-12 11:03:17,307 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:03:17,313 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.getSyntaxError(DbException.java:217)
	at org.h2.command.Parser.getSyntaxError(Parser.java:555)
	at org.h2.command.Parser.read(Parser.java:3518)
	at org.h2.command.Parser.readIfMore(Parser.java:950)
	at org.h2.command.Parser.parseCreateTable(Parser.java:6571)
	at org.h2.command.Parser.parseCreate(Parser.java:4615)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:311)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:03:17,351 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22664 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:03:17,351 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:03:17,495 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:03:17,515 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19ms. Found 4 repository interfaces.
2019-04-12 11:03:17,525 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:03:17,549 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:4960749d-6523-4da9-aa1d-e9af8e7d8624;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:03:17,604 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
2019-04-12 11:03:17,605 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:03:17,608 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:555) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.read(Parser.java:3518) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readIfMore(Parser.java:950) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateTable(Parser.java:6571) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4615) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:311) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:03:17,611 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON (SEASON_ID) ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season (season_id) ) [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:555) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.read(Parser.java:3518) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readIfMore(Parser.java:950) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateTable(Parser.java:6571) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4615) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:311) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:05:37,116 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22791 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:05:37,118 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:05:37,462 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:05:37,521 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54ms. Found 4 repository interfaces.
2019-04-12 11:05:37,551 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:05:37,688 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:cba32cb6-e296-41b4-a7f7-73bb56b26efb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:05:37,901 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
2019-04-12 11:05:37,906 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:05:37,914 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.getSyntaxError(DbException.java:217)
	at org.h2.command.Parser.getSyntaxError(Parser.java:555)
	at org.h2.command.Parser.read(Parser.java:3518)
	at org.h2.command.Parser.readIfMore(Parser.java:950)
	at org.h2.command.Parser.parseCreateTable(Parser.java:6571)
	at org.h2.command.Parser.parseCreate(Parser.java:4615)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:311)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:05:37,957 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22791 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:05:37,957 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:05:38,065 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:05:38,084 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19ms. Found 4 repository interfaces.
2019-04-12 11:05:38,140 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:05:38,167 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:c19e7861-1cfa-499d-90ad-2117e183f546;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:05:38,219 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
2019-04-12 11:05:38,220 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:05:38,222 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:555) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.read(Parser.java:3518) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readIfMore(Parser.java:950) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateTable(Parser.java:6571) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4615) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:311) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:05:38,225 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE TABLE EPISODE ( EPISODE_ID INT AUTO_INCREMENT PRIMARY KEY, TVMAZE_ID INT UNIQUE NOT NULL, SEASON_ID INT NULL, NUMBER INT NULL, NAME VARCHAR(255) CHARSET[*] UCS2 NULL, AIRDATE DATE NULL, AIRTIME TIME NULL, RUNTIME INT NULL, SUMMARY VARCHAR(10000) NULL, IMAGE_URL VARCHAR(1000) NULL, TVMAZE_URL VARCHAR(1000) NULL, CONSTRAINT FK_EPISODE_SEASON FOREIGN KEY (SEASON_ID) REFERENCES SEASON ) "; expected "FOR, UNSIGNED, INVISIBLE, VISIBLE, NOT, NULL, AS, DEFAULT, GENERATED, ON, NOT, NULL, AUTO_INCREMENT, BIGSERIAL, SERIAL, IDENTITY, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, PRIMARY, UNIQUE, NOT, NULL, CHECK, REFERENCES, ,, )"; SQL statement:
create table episode ( episode_id int auto_increment primary key, tvmaze_id int unique not null, season_id int null, number int null, name varchar(255) charset ucs2 null, airdate date null, airtime time null, runtime int null, summary varchar(10000) null, image_url varchar(1000) null, tvmaze_url varchar(1000) null, constraint fk_episode_season foreign key (season_id) references season ) [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:555) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.read(Parser.java:3518) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readIfMore(Parser.java:950) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateTable(Parser.java:6571) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4615) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:311) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:06:04,367 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22878 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:06:04,368 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:06:04,774 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:06:04,846 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66ms. Found 4 repository interfaces.
2019-04-12 11:06:04,878 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:06:05,023 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:317e2d0a-1b0e-4466-b664-633f4b727dd2;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:06:05,235 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
2019-04-12 11:06:05,238 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:06:05,243 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.getSyntaxError(DbException.java:217)
	at org.h2.command.Parser.getSyntaxError(Parser.java:555)
	at org.h2.command.Parser.parseCreate(Parser.java:4652)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:311)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:06:05,273 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22878 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:06:05,273 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:06:05,405 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:06:05,424 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19ms. Found 4 repository interfaces.
2019-04-12 11:06:05,433 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:06:05,458 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:b03ea90d-0d48-4725-a9c4-24d02a4de412;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:06:05,518 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
2019-04-12 11:06:05,520 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:06:05,522 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:555) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4652) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:311) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:06:05,526 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE DEFINER[*] = SHOWSERVICE@""%"" VIEW CARDS AS SELECT CONCAT(""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"") AS ""ID"", ""SH2"".""GENRE_NAME"" AS ""GENRE_NAME"", ""SH1"".""SHOW_ID"" AS ""SHOW_ID"", ""SH1"".""NAME"" AS ""NAME"", ""SH1"".""IMAGE_URL"" AS ""IMAGE_URL"", ""SH1"".""RATING"" AS ""RATING"", (SELECT COUNT(0) FROM ""SHOW-SERVICE-DEV"".""SEASON"" ""SE1"" WHERE (""SE1"".""SHOW_ID"" = ""SH1"".""SHOW_ID"")) AS ""SEASONS"" FROM (""SHOW-SERVICE-DEV"".""SHOWS"" ""SH1"" JOIN (SELECT ""GENRES"".""GENRE_NAME"" AS ""GENRE_NAME"", ""GENRES"".""SHOW_ID"" AS ""SHOW_ID"" FROM (SELECT ""SG1"".""GENRES_GENRE_ID"" AS ""GENRE_ID"", ""G2"".""NAME"" AS ""GENRE_NAME"", ""SG1"".""SHOWS_SHOW_ID"" AS ""SHOW_ID"", DENSE_RANK() OVER(PARTITION BY ""SG1"".""GENRES_GENRE_ID"" ORDER BY ""SG1"".""SHOWS_SHOW_ID"") AS ""ROW_NUMS"" FROM (""SHOW-SERVICE-DEV"".""GENRES"" ""G2"" JOIN ""SHOW-SERVICE-DEV"".""SHOW_GENRE"" ""SG1"" ON ((""G2"".""GENRE_ID"" = ""SG1"".""GENRES_GENRE_ID"")))) ""GENRES"" WHERE (""GENRES"".""ROW_NUMS"" <= 10)) ""SH2"" ON ((""SH1"".""SHOW_ID"" = ""SH2"".""SHOW_ID""))) ORDER BY ""SH2"".""GENRE_NAME"", ""SH1"".""SHOW_ID"" "; expected "OR, FORCE, VIEW, ALIAS, SEQUENCE, USER, TRIGGER, ROLE, SCHEMA, CONSTANT, DOMAIN, TYPE, DATATYPE, AGGREGATE, LINKED, MEMORY, CACHED, LOCAL, GLOBAL, TEMP, TEMPORARY, TABLE, SYNONYM, PRIMARY, UNIQUE, HASH, SPATIAL, INDEX"; SQL statement:
create definer = showService@`%` view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:555) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4652) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:311) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:06:20,570 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22954 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:06:20,571 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:06:20,925 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:06:20,985 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55ms. Found 4 repository interfaces.
2019-04-12 11:06:21,017 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:06:21,156 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:4d8bfed8-ce94-44de-ab6f-edfd27f0be0d;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:06:21,367 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
2019-04-12 11:06:21,370 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:06:21,375 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.Parser.getSchema(Parser.java:701)
	at org.h2.command.Parser.getSchema(Parser.java:707)
	at org.h2.command.Parser.readTableFilter(Parser.java:1388)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.readTerm(Parser.java:3075)
	at org.h2.command.Parser.readFactor(Parser.java:2587)
	at org.h2.command.Parser.readSum(Parser.java:2574)
	at org.h2.command.Parser.readConcat(Parser.java:2544)
	at org.h2.command.Parser.readCondition(Parser.java:2370)
	at org.h2.command.Parser.readAnd(Parser.java:2342)
	at org.h2.command.Parser.readExpression(Parser.java:2334)
	at org.h2.command.Parser.readTerm(Parser.java:3252)
	at org.h2.command.Parser.readFactor(Parser.java:2587)
	at org.h2.command.Parser.readSum(Parser.java:2574)
	at org.h2.command.Parser.readConcat(Parser.java:2544)
	at org.h2.command.Parser.readCondition(Parser.java:2370)
	at org.h2.command.Parser.readAnd(Parser.java:2342)
	at org.h2.command.Parser.readExpression(Parser.java:2334)
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parseCreateView(Parser.java:5340)
	at org.h2.command.Parser.parseCreate(Parser.java:4558)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:06:21,407 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 22954 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:06:21,407 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:06:21,538 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:06:21,557 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19ms. Found 4 repository interfaces.
2019-04-12 11:06:21,566 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:06:21,592 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:2b9a6ec8-03db-419b-8134-c1f4961faf0a;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:06:21,651 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
2019-04-12 11:06:21,652 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:06:21,655 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSchema(Parser.java:701) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSchema(Parser.java:707) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1388) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3075) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3252) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:06:21,659 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id`; nested exception is org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Schema "SHOW-SERVICE-DEV" not found; SQL statement:
create view cards as select concat(`SH2`.`genre_name`, `SH1`.`show_id`) AS `id`, `SH2`.`genre_name` AS `genre_name`, `SH1`.`show_id` AS `show_id`, `SH1`.`name` AS `name`, `SH1`.`image_url` AS `image_url`, `SH1`.`rating` AS `rating`, (select count(0) from `show-service-dev`.`season` `SE1` where (`SE1`.`show_id` = `SH1`.`show_id`)) AS `seasons` from (`show-service-dev`.`shows` `SH1` join (select `genres`.`genre_name` AS `genre_name`, `genres`.`show_id` AS `show_id` from (select `SG1`.`genres_genre_id` AS `genre_id`, `G2`.`name` AS `genre_name`, `SG1`.`shows_show_id` AS `show_id`, dense_rank() OVER(PARTITION BY `SG1`.`genres_genre_id` ORDER BY `SG1`.`shows_show_id`) AS `row_nums` from (`show-service-dev`.`genres` `G2` join `show-service-dev`.`show_genre` `SG1` on ((`G2`.`genre_id` = `SG1`.`genres_genre_id`)))) `genres` where (`genres`.`row_nums` <= 10)) `SH2` on ((`SH1`.`show_id` = `SH2`.`show_id`))) order by `SH2`.`genre_name`, `SH1`.`show_id` [90079-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSchema(Parser.java:701) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSchema(Parser.java:707) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1388) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3075) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3252) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:06:53,134 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 23032 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:06:53,135 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:06:53,581 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:06:53,657 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70ms. Found 4 repository interfaces.
2019-04-12 11:06:53,689 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:06:53,820 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:fd7823c6-9aea-4f65-84e1-b2bc3210ed7b;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:06:54,025 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:06:54,029 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:06:54,035 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699)
	at org.h2.command.Parser.readFunction(Parser.java:2756)
	at org.h2.command.Parser.readTerm(Parser.java:3102)
	at org.h2.command.Parser.readFactor(Parser.java:2587)
	at org.h2.command.Parser.readSum(Parser.java:2574)
	at org.h2.command.Parser.readConcat(Parser.java:2544)
	at org.h2.command.Parser.readCondition(Parser.java:2370)
	at org.h2.command.Parser.readAnd(Parser.java:2342)
	at org.h2.command.Parser.readExpression(Parser.java:2334)
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.readJoin(Parser.java:1779)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parseCreateView(Parser.java:5340)
	at org.h2.command.Parser.parseCreate(Parser.java:4558)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:06:54,076 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 23032 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:06:54,077 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:06:54,168 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:06:54,189 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21ms. Found 4 repository interfaces.
2019-04-12 11:06:54,199 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:06:54,222 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:b1ca2a91-ddb5-486b-baf3-d3443fdc59d5;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:06:54,290 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:06:54,291 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:06:54,294 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:06:54,298 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:10:16,545 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 23463 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:10:16,547 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:10:16,942 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:10:17,028 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 79ms. Found 4 repository interfaces.
2019-04-12 11:10:17,068 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:10:17,224 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:9545fbbd-4ffc-49a5-9cde-71cbb17f6d91;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:10:17,439 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
2019-04-12 11:10:17,443 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:10:17,450 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.getSyntaxError(DbException.java:217)
	at org.h2.command.Parser.getSyntaxError(Parser.java:555)
	at org.h2.command.Parser.read(Parser.java:3518)
	at org.h2.command.Parser.readTableFilter(Parser.java:1357)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.readJoin(Parser.java:1779)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parseCreateView(Parser.java:5340)
	at org.h2.command.Parser.parseCreate(Parser.java:4558)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:311)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:10:17,492 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 23463 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:10:17,492 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:10:17,649 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:10:17,679 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30ms. Found 4 repository interfaces.
2019-04-12 11:10:17,694 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:10:17,726 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:c2ffc72f-842e-4dba-91a6-ec412e0544b4;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:10:17,783 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
2019-04-12 11:10:17,784 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:10:17,787 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:555) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.read(Parser.java:3518) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:311) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:10:17,790 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id); nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:555) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.read(Parser.java:3518) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:311) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:10:44,081 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 23540 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:10:44,082 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:10:44,463 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:10:44,537 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67ms. Found 4 repository interfaces.
2019-04-12 11:10:44,571 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:10:44,707 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:9de9676d-0736-4c25-9195-42ee08366802;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:10:44,934 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
2019-04-12 11:10:44,937 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:10:44,942 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.getSyntaxError(DbException.java:217)
	at org.h2.command.Parser.getSyntaxError(Parser.java:555)
	at org.h2.command.Parser.read(Parser.java:3518)
	at org.h2.command.Parser.readTableFilter(Parser.java:1357)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.readJoin(Parser.java:1779)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parseCreateView(Parser.java:5340)
	at org.h2.command.Parser.parseCreate(Parser.java:4558)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:311)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:10:45,028 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 23540 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:10:45,028 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:10:45,103 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:10:45,123 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20ms. Found 4 repository interfaces.
2019-04-12 11:10:45,134 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:10:45,161 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:8efacf06-da77-4805-b22d-69658509c3a6;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:10:45,224 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
2019-04-12 11:10:45,228 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:10:45,231 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:555) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.read(Parser.java:3518) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:311) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:10:45,236 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANKWITHIN SG1.[*]GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANKWITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:555) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.read(Parser.java:3518) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:311) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:10:55,746 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 23624 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:10:55,747 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:10:56,188 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:10:56,265 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70ms. Found 4 repository interfaces.
2019-04-12 11:10:56,304 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:10:56,466 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:cb244ffd-f843-4927-afd6-8e0273509743;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:10:56,698 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
2019-04-12 11:10:56,701 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:10:56,706 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.getSyntaxError(DbException.java:217)
	at org.h2.command.Parser.getSyntaxError(Parser.java:555)
	at org.h2.command.Parser.read(Parser.java:3518)
	at org.h2.command.Parser.readTableFilter(Parser.java:1357)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.readJoin(Parser.java:1779)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parseCreateView(Parser.java:5340)
	at org.h2.command.Parser.parseCreate(Parser.java:4558)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:311)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:10:56,739 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 23624 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:10:56,739 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:10:56,870 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:10:56,890 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19ms. Found 4 repository interfaces.
2019-04-12 11:10:56,899 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:10:56,926 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:a667fb43-9aad-4d41-9bf6-985833b6c4e9;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:10:56,981 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
2019-04-12 11:10:56,982 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:10:56,985 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:555) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.read(Parser.java:3518) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:311) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:10:56,989 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement "CREATE VIEW CARDS AS SELECT CONCAT(GENRE_NAME, SH1.SHOW_ID) AS ID, SH2.GENRE_NAME, SH1.SHOW_ID, SH1.NAME, SH1.IMAGE_URL, SH1.RATING, (SELECT COUNT(*) FROM SEASON SE1 WHERE SE1.SHOW_ID = SH1.SHOW_ID) AS SEASONS FROM SHOWS SH1 INNER JOIN (SELECT GENRE_NAME, SHOW_ID FROM (SELECT SG1.GENRES_GENRE_ID AS GENRE_ID, G2.NAME AS GENRE_NAME, SHOWS_SHOW_ID AS SHOW_ID, DENSE_RANK WITHIN SG1[*].GENRES_GENRE_ID (ORDER BY SG1.SHOWS_SHOW_ID) AS ROW_NUMS FROM GENRES G2 INNER JOIN SHOW_GENRE SG1 ON G2.GENRE_ID = SG1.GENRES_GENRE_ID) AS GENRES WHERE GENRES.ROW_NUMS <= 10 ) AS SH2 ON SH1.SHOW_ID = SH2.SHOW_ID ORDER BY SH2.GENRE_NAME, SH1.SHOW_ID "; expected ",, FROM, WHERE, GROUP, HAVING, UNION, MINUS, EXCEPT, INTERSECT, ORDER, OFFSET, FETCH, LIMIT, FOR, )"; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [42001-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.getSyntaxError(DbException.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.getSyntaxError(Parser.java:555) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.read(Parser.java:3518) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:311) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:11:04,141 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 23689 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:11:04,143 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:11:04,474 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:11:04,544 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64ms. Found 4 repository interfaces.
2019-04-12 11:11:04,577 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:11:04,734 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:2922ca82-7c60-40c8-b5e3-38d1bc993062;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:11:04,960 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:11:04,964 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:11:04,969 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699)
	at org.h2.command.Parser.readFunction(Parser.java:2756)
	at org.h2.command.Parser.readTerm(Parser.java:3102)
	at org.h2.command.Parser.readFactor(Parser.java:2587)
	at org.h2.command.Parser.readSum(Parser.java:2574)
	at org.h2.command.Parser.readConcat(Parser.java:2544)
	at org.h2.command.Parser.readCondition(Parser.java:2370)
	at org.h2.command.Parser.readAnd(Parser.java:2342)
	at org.h2.command.Parser.readExpression(Parser.java:2334)
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.readJoin(Parser.java:1779)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parseCreateView(Parser.java:5340)
	at org.h2.command.Parser.parseCreate(Parser.java:4558)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:11:04,999 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 23689 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:11:05,000 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:11:05,116 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:11:05,133 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17ms. Found 4 repository interfaces.
2019-04-12 11:11:05,143 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:11:05,168 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:2bbf0af9-ee55-4e98-b0e1-8a1dfc763291;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:11:05,230 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:11:05,231 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:11:05,234 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:11:05,238 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:11:58,129 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 23781 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:11:58,130 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:11:58,420 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:11:58,492 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66ms. Found 4 repository interfaces.
2019-04-12 11:11:58,526 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:11:58,674 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:c99e044c-9cb2-4efb-a786-2eaae52b0d50;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:11:58,889 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:11:58,893 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:11:58,898 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699)
	at org.h2.command.Parser.readFunction(Parser.java:2756)
	at org.h2.command.Parser.readTerm(Parser.java:3102)
	at org.h2.command.Parser.readFactor(Parser.java:2587)
	at org.h2.command.Parser.readSum(Parser.java:2574)
	at org.h2.command.Parser.readConcat(Parser.java:2544)
	at org.h2.command.Parser.readCondition(Parser.java:2370)
	at org.h2.command.Parser.readAnd(Parser.java:2342)
	at org.h2.command.Parser.readExpression(Parser.java:2334)
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.readJoin(Parser.java:1779)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parseCreateView(Parser.java:5340)
	at org.h2.command.Parser.parseCreate(Parser.java:4558)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:11:58,927 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 23781 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:11:58,928 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:11:59,080 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:11:59,098 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18ms. Found 4 repository interfaces.
2019-04-12 11:11:59,108 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:11:59,134 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:d2ef38dc-fc7f-4675-8f03-2978f6a8ed57;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:11:59,193 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:11:59,194 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:11:59,197 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:11:59,201 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK(SG1.genres_genre_id) (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:12:25,376 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 23841 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:12:25,377 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:12:25,802 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:12:25,878 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 68ms. Found 4 repository interfaces.
2019-04-12 11:12:25,923 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:12:26,057 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:47156c64-471e-4f15-9d4e-73a05191039a;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:12:26,280 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:12:26,284 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:12:26,292 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699)
	at org.h2.command.Parser.readFunction(Parser.java:2756)
	at org.h2.command.Parser.readTerm(Parser.java:3102)
	at org.h2.command.Parser.readFactor(Parser.java:2587)
	at org.h2.command.Parser.readSum(Parser.java:2574)
	at org.h2.command.Parser.readConcat(Parser.java:2544)
	at org.h2.command.Parser.readCondition(Parser.java:2370)
	at org.h2.command.Parser.readAnd(Parser.java:2342)
	at org.h2.command.Parser.readExpression(Parser.java:2334)
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.readJoin(Parser.java:1779)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parseCreateView(Parser.java:5340)
	at org.h2.command.Parser.parseCreate(Parser.java:4558)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:12:26,336 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 23841 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:12:26,336 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:12:26,480 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:12:26,503 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23ms. Found 4 repository interfaces.
2019-04-12 11:12:26,514 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:12:26,546 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:1591b572-4cc5-4646-a2c1-66c06b0536a2;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:12:26,606 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:12:26,607 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:12:26,610 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:12:26,613 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:14:33,195 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 24185 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:14:33,197 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:14:33,918 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:14:34,004 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 81ms. Found 4 repository interfaces.
2019-04-12 11:14:34,051 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:14:34,248 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:479b0c04-63e9-4c8d-b8eb-4eac8d5c155d;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:14:34,611 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:14:34,621 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:14:34,632 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699)
	at org.h2.command.Parser.readFunction(Parser.java:2756)
	at org.h2.command.Parser.readTerm(Parser.java:3102)
	at org.h2.command.Parser.readFactor(Parser.java:2587)
	at org.h2.command.Parser.readSum(Parser.java:2574)
	at org.h2.command.Parser.readConcat(Parser.java:2544)
	at org.h2.command.Parser.readCondition(Parser.java:2370)
	at org.h2.command.Parser.readAnd(Parser.java:2342)
	at org.h2.command.Parser.readExpression(Parser.java:2334)
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.readJoin(Parser.java:1779)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parseCreateView(Parser.java:5340)
	at org.h2.command.Parser.parseCreate(Parser.java:4558)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:14:34,683 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 24185 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:14:34,684 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:14:34,795 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:14:34,813 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18ms. Found 4 repository interfaces.
2019-04-12 11:14:34,823 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:14:34,851 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:762b8fb0-6a5f-41be-98fb-70af699ced56;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:14:34,916 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:14:34,917 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:14:34,921 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:14:34,926 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:18:04,672 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 25163 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:18:04,673 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:18:05,102 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:18:05,193 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 81ms. Found 4 repository interfaces.
2019-04-12 11:18:05,236 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:18:05,400 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:be82205a-bfd9-4c4a-aa32-00ac7eebf99e;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:18:05,631 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:18:05,635 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:18:05,640 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699)
	at org.h2.command.Parser.readFunction(Parser.java:2756)
	at org.h2.command.Parser.readTerm(Parser.java:3102)
	at org.h2.command.Parser.readFactor(Parser.java:2587)
	at org.h2.command.Parser.readSum(Parser.java:2574)
	at org.h2.command.Parser.readConcat(Parser.java:2544)
	at org.h2.command.Parser.readCondition(Parser.java:2370)
	at org.h2.command.Parser.readAnd(Parser.java:2342)
	at org.h2.command.Parser.readExpression(Parser.java:2334)
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.readJoin(Parser.java:1779)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parseCreateView(Parser.java:5340)
	at org.h2.command.Parser.parseCreate(Parser.java:4558)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:18:05,670 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 25163 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:18:05,670 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:18:05,806 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:18:05,824 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18ms. Found 4 repository interfaces.
2019-04-12 11:18:05,831 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:18:05,854 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:e136dde6-ff3c-4366-9b83-193d9bdee709;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:18:05,915 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:18:05,916 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:18:05,919 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:18:05,924 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() WITHIN SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:18:38,191 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 25290 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:18:38,192 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:18:38,570 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:18:38,637 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60ms. Found 4 repository interfaces.
2019-04-12 11:18:38,666 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:18:38,811 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:e9dc122d-9f6e-4e4f-ba74-d4a17ee5e291;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:18:39,018 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:18:39,022 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:18:39,027 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699)
	at org.h2.command.Parser.readFunction(Parser.java:2756)
	at org.h2.command.Parser.readTerm(Parser.java:3102)
	at org.h2.command.Parser.readFactor(Parser.java:2587)
	at org.h2.command.Parser.readSum(Parser.java:2574)
	at org.h2.command.Parser.readConcat(Parser.java:2544)
	at org.h2.command.Parser.readCondition(Parser.java:2370)
	at org.h2.command.Parser.readAnd(Parser.java:2342)
	at org.h2.command.Parser.readExpression(Parser.java:2334)
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.readJoin(Parser.java:1779)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parseCreateView(Parser.java:5340)
	at org.h2.command.Parser.parseCreate(Parser.java:4558)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:18:39,059 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 25290 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:18:39,060 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:18:39,183 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:18:39,202 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18ms. Found 4 repository interfaces.
2019-04-12 11:18:39,211 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:18:39,238 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:5ac18da2-4914-48d1-a8af-4081607faa5d;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:18:39,298 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:18:39,300 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:18:39,303 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:18:39,306 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, DENSE_RANK() over SG1.genres_genre_id (ORDER BY SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:19:30,168 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 25381 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:19:30,169 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:19:30,538 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:19:30,616 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72ms. Found 4 repository interfaces.
2019-04-12 11:19:30,647 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:19:30,806 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:1565e976-b1fb-4d1a-9e0d-90edf272d814;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:19:31,030 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:19:31,033 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:19:31,038 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699)
	at org.h2.command.Parser.readFunction(Parser.java:2756)
	at org.h2.command.Parser.readTerm(Parser.java:3102)
	at org.h2.command.Parser.readFactor(Parser.java:2587)
	at org.h2.command.Parser.readSum(Parser.java:2574)
	at org.h2.command.Parser.readConcat(Parser.java:2544)
	at org.h2.command.Parser.readCondition(Parser.java:2370)
	at org.h2.command.Parser.readAnd(Parser.java:2342)
	at org.h2.command.Parser.readExpression(Parser.java:2334)
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.readTableFilter(Parser.java:1356)
	at org.h2.command.Parser.readJoin(Parser.java:1779)
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183)
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139)
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287)
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133)
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946)
	at org.h2.command.Parser.parseSelect(Parser.java:1919)
	at org.h2.command.Parser.parseCreateView(Parser.java:5340)
	at org.h2.command.Parser.parseCreate(Parser.java:4558)
	at org.h2.command.Parser.parsePrepared(Parser.java:380)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 111 common frames omitted
2019-04-12 11:19:31,095 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 25381 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:19:31,095 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:19:31,173 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:19:31,187 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 4 repository interfaces.
2019-04-12 11:19:31,195 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:19:31,213 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:dd6393aa-cb7a-4b9f-9b66-0c0c7511fc71;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:19:31,259 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
2019-04-12 11:19:31,260 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:19:31,263 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 110 common frames omitted
2019-04-12 11:19:31,267 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #15 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/schema.sql]: CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id; nested exception is org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.createSchema(DataSourceInitializer.java:104) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:64) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Function "DENSE_RANK" not found; SQL statement:
CREATE VIEW cards AS SELECT concat(genre_name, SH1.show_id) as id, SH2.genre_name, SH1.show_id, SH1.name, SH1.image_url, SH1.rating, (SELECT count(*) FROM season SE1 WHERE SE1.show_id = SH1.show_id) as seasons FROM shows SH1 INNER JOIN (SELECT genre_name, show_id FROM (SELECT SG1.genres_genre_id as genre_id, G2.name as genre_name, shows_show_id as show_id, dense_rank() over (partition by SG1.genres_genre_id order by SG1.shows_show_id) AS row_nums FROM genres G2 INNER JOIN show_genre SG1 on G2.genre_id = SG1.genres_genre_id) AS genres WHERE genres.row_nums <= 10 ) as SH2 on SH1.show_id = SH2.show_id ORDER BY SH2.genre_name, SH1.show_id [90022-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJavaFunction(Parser.java:2699) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFunction(Parser.java:2756) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTerm(Parser.java:3102) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readFactor(Parser.java:2587) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readSum(Parser.java:2574) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readConcat(Parser.java:2544) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readCondition(Parser.java:2370) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readAnd(Parser.java:2342) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readExpression(Parser.java:2334) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleSelectPart(Parser.java:2245) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2277) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2138) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableFilter(Parser.java:1356) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readJoin(Parser.java:1779) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseJoinTableFilter(Parser.java:2183) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimpleFromPart(Parser.java:2139) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSimple(Parser.java:2287) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectSub(Parser.java:2133) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelectUnion(Parser.java:1946) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseSelect(Parser.java:1919) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreateView(Parser.java:5340) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseCreate(Parser.java:4558) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:380) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 111 common frames omitted
2019-04-12 11:23:52,388 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 25796 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:23:52,389 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:23:52,799 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:23:52,880 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73ms. Found 4 repository interfaces.
2019-04-12 11:23:52,908 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:23:53,037 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:45e6eff3-9e43-4a13-ae79-a76a138f7114;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:23:53,462 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #8 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO genre (genre_id, name) VALUES (4, 'Action'); nested exception is org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
2019-04-12 11:23:53,465 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:23:53,470 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #8 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO genre (genre_id, name) VALUES (4, 'Action'); nested exception is org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #8 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO genre (genre_id, name) VALUES (4, 'Action'); nested exception is org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #8 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO genre (genre_id, name) VALUES (4, 'Action'); nested exception is org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #8 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO genre (genre_id, name) VALUES (4, 'Action'); nested exception is org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:123)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:93)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:37)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.initialize(DataSourceInitializerInvoker.java:73)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.command.Parser.readTableOrView(Parser.java:5920)
	at org.h2.command.Parser.readTableOrView(Parser.java:5897)
	at org.h2.command.Parser.parseInsert(Parser.java:1220)
	at org.h2.command.Parser.parsePrepared(Parser.java:431)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 119 common frames omitted
2019-04-12 11:23:53,501 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 25796 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:23:53,501 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:23:53,569 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:23:53,584 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15ms. Found 4 repository interfaces.
2019-04-12 11:23:53,593 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:23:53,612 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:a8dd3d1f-234c-4815-bbea-7ece0bd566de;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:23:53,892 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #8 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO genre (genre_id, name) VALUES (4, 'Action'); nested exception is org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
2019-04-12 11:23:53,892 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:23:53,894 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #8 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO genre (genre_id, name) VALUES (4, 'Action'); nested exception is org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #8 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO genre (genre_id, name) VALUES (4, 'Action'); nested exception is org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #8 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO genre (genre_id, name) VALUES (4, 'Action'); nested exception is org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #8 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO genre (genre_id, name) VALUES (4, 'Action'); nested exception is org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:123) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:93) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:37) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.initialize(DataSourceInitializerInvoker.java:73) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:66) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableOrView(Parser.java:5920) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableOrView(Parser.java:5897) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseInsert(Parser.java:1220) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:431) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 118 common frames omitted
2019-04-12 11:23:53,896 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #8 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO genre (genre_id, name) VALUES (4, 'Action'); nested exception is org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #8 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO genre (genre_id, name) VALUES (4, 'Action'); nested exception is org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #8 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO genre (genre_id, name) VALUES (4, 'Action'); nested exception is org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #8 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO genre (genre_id, name) VALUES (4, 'Action'); nested exception is org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:123) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:93) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:37) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.initialize(DataSourceInitializerInvoker.java:73) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:66) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Table "GENRE" not found; SQL statement:
INSERT INTO genre (genre_id, name) VALUES (4, 'Action') [42102-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableOrView(Parser.java:5920) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.readTableOrView(Parser.java:5897) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseInsert(Parser.java:1220) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:431) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 119 common frames omitted
2019-04-12 11:24:31,841 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 25877 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:24:31,842 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:24:32,210 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:24:32,284 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66ms. Found 4 repository interfaces.
2019-04-12 11:24:32,321 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:24:32,466 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:23e42a9b-c6ae-4097-8896-3effb62c5ee8;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:24:33,023 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #631 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1); nested exception is org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
2019-04-12 11:24:33,027 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:24:33,033 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #631 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1); nested exception is org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #631 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1); nested exception is org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #631 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1); nested exception is org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #631 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1); nested exception is org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:123)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:93)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:37)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.initialize(DataSourceInitializerInvoker.java:73)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357)
	at org.h2.message.DbException.get(DbException.java:179)
	at org.h2.message.DbException.get(DbException.java:155)
	at org.h2.table.Table.getColumn(Table.java:682)
	at org.h2.command.Parser.parseColumn(Parser.java:936)
	at org.h2.command.Parser.parseColumnList(Parser.java:920)
	at org.h2.command.Parser.parseInsertGivenTable(Parser.java:1258)
	at org.h2.command.Parser.parseInsert(Parser.java:1222)
	at org.h2.command.Parser.parsePrepared(Parser.java:431)
	at org.h2.command.Parser.parse(Parser.java:335)
	at org.h2.command.Parser.parse(Parser.java:307)
	at org.h2.command.Parser.prepareCommand(Parser.java:278)
	at org.h2.engine.Session.prepareLocal(Session.java:611)
	at org.h2.engine.Session.prepareCommand(Session.java:549)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488)
	... 119 common frames omitted
2019-04-12 11:24:33,066 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 25877 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:24:33,066 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:24:33,150 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:24:33,165 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 4 repository interfaces.
2019-04-12 11:24:33,176 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:24:33,197 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:958750f0-6562-4e9b-b198-588bf7a0a336;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:24:33,506 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #631 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1); nested exception is org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
2019-04-12 11:24:33,507 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:24:33,510 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #631 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1); nested exception is org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #631 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1); nested exception is org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #631 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1); nested exception is org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 89 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #631 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1); nested exception is org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:123) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:93) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:37) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.initialize(DataSourceInitializerInvoker.java:73) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:66) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 103 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.getColumn(Table.java:682) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseColumn(Parser.java:936) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseColumnList(Parser.java:920) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseInsertGivenTable(Parser.java:1258) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseInsert(Parser.java:1222) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:431) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 118 common frames omitted
2019-04-12 11:24:33,512 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #631 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1); nested exception is org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Post-processing of FactoryBean's singleton object failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #631 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1); nested exception is org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:119) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1674) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1233) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:330) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #631 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1); nested exception is org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:224) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1115) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:407) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:335) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerPostProcessor.postProcessAfterInitialization(DataSourceInitializerPostProcessor.java:55) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1904) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 90 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #631 of URL [file:/home/liso/Dropbox/workspaces/java/show-service/out/test/resources/data.sql]: INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1); nested exception is org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:509) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:238) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:210) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:123) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:93) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:37) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.initialize(DataSourceInitializerInvoker.java:73) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.afterPropertiesSet(DataSourceInitializerInvoker.java:66) ~[spring-boot-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 104 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLException: Column "SHOW_ID" not found; SQL statement:
INSERT INTO show_genre (show_id, genre_id) VALUES (1, 1) [42122-197]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:357) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.table.Table.getColumn(Table.java:682) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseColumn(Parser.java:936) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseColumnList(Parser.java:920) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseInsertGivenTable(Parser.java:1258) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parseInsert(Parser.java:1222) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parsePrepared(Parser.java:431) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:335) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.parse(Parser.java:307) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.command.Parser.prepareCommand(Parser.java:278) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareLocal(Session.java:611) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.engine.Session.prepareCommand(Session.java:549) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1247) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:217) ~[h2-1.4.197.jar:1.4.197]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:205) ~[h2-1.4.197.jar:1.4.197]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:488) ~[spring-jdbc-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 119 common frames omitted
2019-04-12 11:26:13,988 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 26007 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:26:13,990 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:26:14,714 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:26:14,878 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 151ms. Found 4 repository interfaces.
2019-04-12 11:26:14,943 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:26:15,320 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 26064 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:26:15,428 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:26:15,446 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:7b552133-51e6-4302-bac0-2c54d5d293ea;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:26:15,972 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:26:16,089 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 98ms. Found 4 repository interfaces.
2019-04-12 11:26:16,131 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:26:16,322 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:45d753da-0674-44f6-a9bf-36a7f1c22284;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:26:18,711 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:26:18,823 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:26:18,829 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:26:19,028 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:26:19,231 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:26:19,435 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:26:19,507 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:26:19,512 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:26:19,616 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:26:19,749 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:26:20,259 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
2019-04-12 11:26:20,263 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:26:20,271 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:402)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 69 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:159)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:143)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)
	... 73 common frames omitted
2019-04-12 11:26:20,312 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 26007 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:26:20,312 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:26:20,403 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:26:20,422 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18ms. Found 4 repository interfaces.
2019-04-12 11:26:20,434 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:26:20,467 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:da18c0f6-fd4a-4378-8085-e70756a98525;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:26:20,693 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
2019-04-12 11:26:20,701 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:26:20,714 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:402)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 69 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:159)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:143)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)
	... 73 common frames omitted
2019-04-12 11:26:20,778 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 26064 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:26:20,779 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:26:20,915 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:26:20,942 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23ms. Found 4 repository interfaces.
2019-04-12 11:26:20,973 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:26:21,042 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:9a10cbeb-6eff-4bbc-9151-0ac65c417bda;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:26:22,664 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:26:22,672 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:26:22,842 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
2019-04-12 11:26:22,843 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:26:22,845 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:402) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 68 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:159) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:143) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 72 common frames omitted
2019-04-12 11:26:22,847 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3f91b517] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@5505ae1a]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:402) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 69 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:159) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:143) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 73 common frames omitted
2019-04-12 11:26:22,911 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:26:22,917 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:26:23,068 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
2019-04-12 11:26:23,069 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:26:23,072 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:402) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 68 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:159) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:143) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 72 common frames omitted
2019-04-12 11:26:23,074 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:402) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 69 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [id] in table [cards]; found [integer (Types#INTEGER)], but expecting [varchar(255) (Types#VARCHAR)]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:159) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:143) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 73 common frames omitted
2019-04-12 11:26:50,805 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 26136 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:26:50,807 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:26:51,192 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:26:51,276 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 77ms. Found 4 repository interfaces.
2019-04-12 11:26:51,312 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:26:51,452 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:5664eecb-506a-4325-b13c-f0b1a256426b;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:26:53,053 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:26:53,099 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:26:53,100 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:26:53,223 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:26:53,328 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:26:53,963 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [seasons] in table [cards]; found [integer (Types#INTEGER)], but expecting [bigint (Types#BIGINT)]
2019-04-12 11:26:53,966 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:26:53,971 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [seasons] in table [cards]; found [integer (Types#INTEGER)], but expecting [bigint (Types#BIGINT)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743)
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)
	at java.util.Optional.orElseGet(Optional.java:267)
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at java.util.ArrayList.forEach(ArrayList.java:1257)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [seasons] in table [cards]; found [integer (Types#INTEGER)], but expecting [bigint (Types#BIGINT)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:402)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 69 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [seasons] in table [cards]; found [integer (Types#INTEGER)], but expecting [bigint (Types#BIGINT)]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:159)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:143)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)
	... 73 common frames omitted
2019-04-12 11:26:53,999 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 26136 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:26:54,000 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:26:54,086 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:26:54,098 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 4 repository interfaces.
2019-04-12 11:26:54,105 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:26:54,120 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:0c7b847e-5689-424c-9a1c-6046d08ef68c;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:26:55,529 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:26:55,535 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:26:55,655 WARN  [main] AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [seasons] in table [cards]; found [integer (Types#INTEGER)], but expecting [bigint (Types#BIGINT)]
2019-04-12 11:26:55,656 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 11:26:55,658 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [seasons] in table [cards]; found [integer (Types#INTEGER)], but expecting [bigint (Types#BIGINT)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) [spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:54) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47) [spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [seasons] in table [cards]; found [integer (Types#INTEGER)], but expecting [bigint (Types#BIGINT)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:402) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 68 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [seasons] in table [cards]; found [integer (Types#INTEGER)], but expecting [bigint (Types#BIGINT)]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:159) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:143) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 72 common frames omitted
2019-04-12 11:26:55,659 ERROR [main] TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17f7cd29] to prepare test instance [cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:97) [spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_201]
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_201]
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_201]
	at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[na:1.8.0_201]
	at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) ~[na:1.8.0_201]
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_201]
	at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262) [junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59) ~[junit-jupiter-engine-5.3.2.jar:5.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$0(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:83) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:69) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at java.util.ArrayList.forEach(ArrayList.java:1257) ~[na:1.8.0_201]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51) ~[junit-platform-engine-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.2.jar:1.3.2]
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [seasons] in table [cards]; found [integer (Types#INTEGER)], but expecting [bigint (Types#BIGINT)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127) ~[spring-boot-test-2.1.3.RELEASE.jar:2.1.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 54 common frames omitted
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [seasons] in table [cards]; found [integer (Types#INTEGER)], but expecting [bigint (Types#BIGINT)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:402) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 69 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [seasons] in table [cards]; found [integer (Types#INTEGER)], but expecting [bigint (Types#BIGINT)]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:159) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:143) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:191) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939) ~[hibernate-core-5.3.7.Final.jar:5.3.7.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) ~[spring-orm-5.1.5.RELEASE.jar:5.1.5.RELEASE]
	... 73 common frames omitted
2019-04-12 11:27:14,548 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 26201 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:27:14,549 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:27:14,954 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:27:15,019 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 58ms. Found 4 repository interfaces.
2019-04-12 11:27:15,049 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:27:15,189 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:8fcd46fb-0a4c-4cf7-899f-f538ad6bc756;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:27:16,913 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:27:16,959 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:27:16,961 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:27:17,052 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:27:17,145 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:27:17,789 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:27:18,134 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:27:18,301 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.132 seconds (JVM running for 4.907)
2019-04-12 11:27:18,311 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:27:18,343 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 26201 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:27:18,343 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:27:18,438 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:27:18,449 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 4 repository interfaces.
2019-04-12 11:27:18,457 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:27:18,472 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:734afc9c-4220-4af7-8d3d-2207d6e0a740;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:27:19,475 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:27:19,481 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:27:19,586 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:27:19,645 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:27:19,700 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.386 seconds (JVM running for 6.307)
2019-04-12 11:27:19,711 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5fe5c68b]; rollback [true]
2019-04-12 11:27:19,756 DEBUG [main] SQL : 
    select
        show0_.show_id as show_id1_8_2_,
        show0_.image_url as image_ur2_8_2_,
        show0_.imdb_url as imdb_url3_8_2_,
        show0_.language as language4_8_2_,
        show0_.last_update as last_upd5_8_2_,
        show0_.name as name6_8_2_,
        show0_.official_site_url as official7_8_2_,
        show0_.premiered as premiere8_8_2_,
        show0_.rating as rating9_8_2_,
        show0_.runtime as runtime10_8_2_,
        show0_.schedule_id as schedul16_8_2_,
        show0_.status as status11_8_2_,
        show0_.summary as summary12_8_2_,
        show0_.tv_maze_url as tv_maze13_8_2_,
        show0_.tvmaze_id as tvmaze_14_8_2_,
        show0_.type as type15_8_2_,
        schedule1_.schedule_id as schedule1_4_0_,
        schedule1_.time_of_show as time_of_2_4_0_,
        seasons2_.show_id as show_id10_6_4_,
        seasons2_.season_id as season_i1_6_4_,
        seasons2_.season_id as season_i1_6_1_,
        seasons2_.end_date as end_date2_6_1_,
        seasons2_.episode_order as episode_3_6_1_,
        seasons2_.image_url as image_ur4_6_1_,
        seasons2_.number as number5_6_1_,
        seasons2_.premiere_date as premiere6_6_1_,
        seasons2_.show_id as show_id10_6_1_,
        seasons2_.summary as summary7_6_1_,
        seasons2_.tvmaze_url as tvmaze_u8_6_1_,
        seasons2_.tvmaze_id as tvmaze_i9_6_1_ 
    from
        shows show0_ 
    inner join
        schedule schedule1_ 
            on show0_.schedule_id=schedule1_.schedule_id 
    left outer join
        season seasons2_ 
            on show0_.show_id=seasons2_.show_id 
    where
        show0_.show_id=?
2019-04-12 11:27:19,760 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:27:19,790 DEBUG [main] SQL : 
    insert 
    into
        schedule
        (schedule_id, time_of_show) 
    values
        (null, ?)
2019-04-12 11:27:19,791 TRACE [main] BasicBinder : binding parameter [1] as [TIME] - [22:00]
2019-04-12 11:27:19,795 DEBUG [main] SQL : 
    select
        dayofweek0_.day_of_week_id as day_of_w1_1_0_,
        dayofweek0_.day as day2_1_0_ 
    from
        days_of_week dayofweek0_ 
    where
        dayofweek0_.day_of_week_id=?
2019-04-12 11:27:19,796 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:27:19,804 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find cloud.liso.showservice.model.DayOfWeek with id 0; nested exception is javax.persistence.EntityNotFoundException: Unable to find cloud.liso.showservice.model.DayOfWeek with id 0, mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:27:19,815 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:28:05,722 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 26292 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:28:05,723 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:28:06,136 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:28:06,207 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63ms. Found 4 repository interfaces.
2019-04-12 11:28:06,239 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:28:06,380 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:6b456893-343f-4445-a265-f34fd012b792;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:28:08,299 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:28:08,344 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:28:08,345 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:28:08,432 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:28:08,535 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:28:09,187 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:28:09,538 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:28:09,756 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.456 seconds (JVM running for 5.252)
2019-04-12 11:28:09,767 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:28:09,816 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 26292 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:28:09,817 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:28:09,957 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:28:09,973 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15ms. Found 4 repository interfaces.
2019-04-12 11:28:09,983 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:28:10,003 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:012378e2-29cb-4d7a-a3f4-cf712a13cb48;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:28:11,148 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:28:11,153 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:28:11,262 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:28:11,346 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:28:11,395 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.624 seconds (JVM running for 6.891)
2019-04-12 11:28:11,408 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7e4ac598]; rollback [true]
2019-04-12 11:28:11,464 DEBUG [main] SQL : 
    select
        show0_.show_id as show_id1_8_2_,
        show0_.image_url as image_ur2_8_2_,
        show0_.imdb_url as imdb_url3_8_2_,
        show0_.language as language4_8_2_,
        show0_.last_update as last_upd5_8_2_,
        show0_.name as name6_8_2_,
        show0_.official_site_url as official7_8_2_,
        show0_.premiered as premiere8_8_2_,
        show0_.rating as rating9_8_2_,
        show0_.runtime as runtime10_8_2_,
        show0_.schedule_id as schedul16_8_2_,
        show0_.status as status11_8_2_,
        show0_.summary as summary12_8_2_,
        show0_.tv_maze_url as tv_maze13_8_2_,
        show0_.tvmaze_id as tvmaze_14_8_2_,
        show0_.type as type15_8_2_,
        schedule1_.schedule_id as schedule1_4_0_,
        schedule1_.time_of_show as time_of_2_4_0_,
        seasons2_.show_id as show_id10_6_4_,
        seasons2_.season_id as season_i1_6_4_,
        seasons2_.season_id as season_i1_6_1_,
        seasons2_.end_date as end_date2_6_1_,
        seasons2_.episode_order as episode_3_6_1_,
        seasons2_.image_url as image_ur4_6_1_,
        seasons2_.number as number5_6_1_,
        seasons2_.premiere_date as premiere6_6_1_,
        seasons2_.show_id as show_id10_6_1_,
        seasons2_.summary as summary7_6_1_,
        seasons2_.tvmaze_url as tvmaze_u8_6_1_,
        seasons2_.tvmaze_id as tvmaze_i9_6_1_ 
    from
        shows show0_ 
    inner join
        schedule schedule1_ 
            on show0_.schedule_id=schedule1_.schedule_id 
    left outer join
        season seasons2_ 
            on show0_.show_id=seasons2_.show_id 
    where
        show0_.show_id=?
2019-04-12 11:28:11,469 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:28:11,504 DEBUG [main] SQL : 
    insert 
    into
        schedule
        (schedule_id, time_of_show) 
    values
        (null, ?)
2019-04-12 11:28:11,505 TRACE [main] BasicBinder : binding parameter [1] as [TIME] - [22:00]
2019-04-12 11:28:11,510 DEBUG [main] SQL : 
    select
        dayofweek0_.day_of_week_id as day_of_w1_1_0_,
        dayofweek0_.day as day2_1_0_ 
    from
        days_of_week dayofweek0_ 
    where
        dayofweek0_.day_of_week_id=?
2019-04-12 11:28:11,510 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:28:11,515 DEBUG [main] SQL : 
    select
        genres0_.shows_show_id as shows_sh1_7_0_,
        genres0_.genres_genre_id as genres_g2_7_0_,
        genre1_.genre_id as genre_id1_3_1_,
        genre1_.name as name2_3_1_ 
    from
        show_genre genres0_ 
    inner join
        genres genre1_ 
            on genres0_.genres_genre_id=genre1_.genre_id 
    where
        genres0_.shows_show_id=?
2019-04-12 11:28:11,516 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:28:11,770 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre(id=0, name=null, shows=null), Genre(id=0, name=null, shows=null), Genre(id=0, name=null, shows=null)], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=201, days=[None], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null)>
to be equal to:
 <Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre(id=0, name=Drama, shows=null), Genre(id=0, name=Science-Fiction, shows=null), Genre(id=0, name=Thriller, shows=null)], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=0, days=[Thursday], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null)>
but was not., mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:28:11,782 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:35:43,890 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 26699 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:35:43,891 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:35:44,264 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:35:44,328 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57ms. Found 4 repository interfaces.
2019-04-12 11:35:44,357 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:35:44,510 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:d123c362-dd05-469f-aa4b-db44f8d5d045;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:35:46,273 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:35:46,314 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:35:46,315 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:35:46,408 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:35:46,503 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:35:47,122 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:35:47,399 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:35:47,592 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.091 seconds (JVM running for 4.911)
2019-04-12 11:35:47,601 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:35:47,642 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 26699 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:35:47,642 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:35:47,733 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:35:47,746 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 4 repository interfaces.
2019-04-12 11:35:47,753 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:35:47,770 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:1ebb3cf9-07b7-4341-9d99-cf7327feb7c7;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:35:48,859 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:35:48,866 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:35:49,006 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:35:49,079 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:35:49,140 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.535 seconds (JVM running for 6.46)
2019-04-12 11:35:49,151 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@126a9a3d]; rollback [true]
2019-04-12 11:35:49,185 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = java.lang.NullPointerException, mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:35:49,195 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:36:42,283 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 26793 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:36:42,289 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:36:42,664 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:36:42,750 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 81ms. Found 4 repository interfaces.
2019-04-12 11:36:42,799 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:36:42,947 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:c0fd7161-d2c2-4825-a196-de644c5a520a;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:36:44,642 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:36:44,701 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:36:44,702 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:36:44,832 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:36:44,941 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:36:45,572 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:36:45,849 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:36:45,981 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.098 seconds (JVM running for 4.828)
2019-04-12 11:36:45,988 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:36:46,021 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 26793 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:36:46,021 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:36:46,110 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:36:46,121 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 4 repository interfaces.
2019-04-12 11:36:46,127 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:36:46,141 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:7cbda0ce-2754-45df-9e57-ac7c178049f8;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:36:47,232 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:36:47,237 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:36:47,380 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:36:47,457 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:36:47,524 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.533 seconds (JVM running for 6.371)
2019-04-12 11:36:47,534 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@126a9a3d]; rollback [true]
2019-04-12 11:36:47,564 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = java.lang.NullPointerException, mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:36:47,572 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:38:15,374 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27096 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:38:15,376 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:38:15,715 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:38:15,799 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78ms. Found 4 repository interfaces.
2019-04-12 11:38:15,830 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:38:15,970 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:b8a62918-56ab-463e-b019-9d38c15f0b99;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:38:17,665 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:38:17,712 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:38:17,713 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:38:17,817 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:38:17,913 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:38:18,527 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:38:18,827 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:38:18,996 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 3.967 seconds (JVM running for 4.78)
2019-04-12 11:38:19,007 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:38:19,045 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27096 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:38:19,045 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:38:19,114 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:38:19,126 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 4 repository interfaces.
2019-04-12 11:38:19,133 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:38:19,150 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:a4abe256-1b60-40da-a42e-2fcffa4a6fe1;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:38:20,381 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:38:20,389 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:38:20,537 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:38:20,634 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:38:20,678 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.667 seconds (JVM running for 6.461)
2019-04-12 11:38:20,688 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@175ac243]; rollback [true]
2019-04-12 11:38:20,730 DEBUG [main] SQL : 
    select
        show0_.show_id as show_id1_8_2_,
        show0_.image_url as image_ur2_8_2_,
        show0_.imdb_url as imdb_url3_8_2_,
        show0_.language as language4_8_2_,
        show0_.last_update as last_upd5_8_2_,
        show0_.name as name6_8_2_,
        show0_.official_site_url as official7_8_2_,
        show0_.premiered as premiere8_8_2_,
        show0_.rating as rating9_8_2_,
        show0_.runtime as runtime10_8_2_,
        show0_.schedule_id as schedul16_8_2_,
        show0_.status as status11_8_2_,
        show0_.summary as summary12_8_2_,
        show0_.tv_maze_url as tv_maze13_8_2_,
        show0_.tvmaze_id as tvmaze_14_8_2_,
        show0_.type as type15_8_2_,
        schedule1_.schedule_id as schedule1_4_0_,
        schedule1_.time_of_show as time_of_2_4_0_,
        seasons2_.show_id as show_id10_6_4_,
        seasons2_.season_id as season_i1_6_4_,
        seasons2_.season_id as season_i1_6_1_,
        seasons2_.end_date as end_date2_6_1_,
        seasons2_.episode_order as episode_3_6_1_,
        seasons2_.image_url as image_ur4_6_1_,
        seasons2_.number as number5_6_1_,
        seasons2_.premiere_date as premiere6_6_1_,
        seasons2_.show_id as show_id10_6_1_,
        seasons2_.summary as summary7_6_1_,
        seasons2_.tvmaze_url as tvmaze_u8_6_1_,
        seasons2_.tvmaze_id as tvmaze_i9_6_1_ 
    from
        shows show0_ 
    inner join
        schedule schedule1_ 
            on show0_.schedule_id=schedule1_.schedule_id 
    left outer join
        season seasons2_ 
            on show0_.show_id=seasons2_.show_id 
    where
        show0_.show_id=?
2019-04-12 11:38:20,734 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:38:20,770 DEBUG [main] SQL : 
    insert 
    into
        schedule
        (schedule_id, time_of_show) 
    values
        (null, ?)
2019-04-12 11:38:20,771 TRACE [main] BasicBinder : binding parameter [1] as [TIME] - [22:00]
2019-04-12 11:38:20,774 DEBUG [main] SQL : 
    select
        dayofweek0_.day_of_week_id as day_of_w1_1_0_,
        dayofweek0_.day as day2_1_0_ 
    from
        days_of_week dayofweek0_ 
    where
        dayofweek0_.day_of_week_id=?
2019-04-12 11:38:20,774 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:38:20,778 DEBUG [main] SQL : 
    select
        genres0_.shows_show_id as shows_sh1_7_0_,
        genres0_.genres_genre_id as genres_g2_7_0_,
        genre1_.genre_id as genre_id1_3_1_,
        genre1_.name as name2_3_1_ 
    from
        show_genre genres0_ 
    inner join
        genres genre1_ 
            on genres0_.genres_genre_id=genre1_.genre_id 
    where
        genres0_.shows_show_id=?
2019-04-12 11:38:20,779 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:38:20,818 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = java.lang.StackOverflowError, mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:38:20,847 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:38:53,936 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27170 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:38:53,937 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:38:54,322 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:38:54,409 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78ms. Found 4 repository interfaces.
2019-04-12 11:38:54,445 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:38:54,564 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:e0e6fd18-3811-4080-b136-351e96c9064c;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:38:56,179 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:38:56,226 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:38:56,227 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:38:56,342 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:38:56,434 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:38:57,071 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:38:57,345 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:38:57,489 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 3.969 seconds (JVM running for 4.713)
2019-04-12 11:38:57,496 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:38:57,528 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27170 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:38:57,528 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:38:57,592 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:38:57,603 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 4 repository interfaces.
2019-04-12 11:38:57,612 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:38:57,632 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:aa5be164-15c1-4864-adc2-eedcd609e20d;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:38:58,888 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:38:58,895 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:38:59,037 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:38:59,110 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:38:59,167 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.668 seconds (JVM running for 6.392)
2019-04-12 11:38:59,178 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@43a59289]; rollback [true]
2019-04-12 11:38:59,224 DEBUG [main] SQL : 
    select
        show0_.show_id as show_id1_8_2_,
        show0_.image_url as image_ur2_8_2_,
        show0_.imdb_url as imdb_url3_8_2_,
        show0_.language as language4_8_2_,
        show0_.last_update as last_upd5_8_2_,
        show0_.name as name6_8_2_,
        show0_.official_site_url as official7_8_2_,
        show0_.premiered as premiere8_8_2_,
        show0_.rating as rating9_8_2_,
        show0_.runtime as runtime10_8_2_,
        show0_.schedule_id as schedul16_8_2_,
        show0_.status as status11_8_2_,
        show0_.summary as summary12_8_2_,
        show0_.tv_maze_url as tv_maze13_8_2_,
        show0_.tvmaze_id as tvmaze_14_8_2_,
        show0_.type as type15_8_2_,
        schedule1_.schedule_id as schedule1_4_0_,
        schedule1_.time_of_show as time_of_2_4_0_,
        seasons2_.show_id as show_id10_6_4_,
        seasons2_.season_id as season_i1_6_4_,
        seasons2_.season_id as season_i1_6_1_,
        seasons2_.end_date as end_date2_6_1_,
        seasons2_.episode_order as episode_3_6_1_,
        seasons2_.image_url as image_ur4_6_1_,
        seasons2_.number as number5_6_1_,
        seasons2_.premiere_date as premiere6_6_1_,
        seasons2_.show_id as show_id10_6_1_,
        seasons2_.summary as summary7_6_1_,
        seasons2_.tvmaze_url as tvmaze_u8_6_1_,
        seasons2_.tvmaze_id as tvmaze_i9_6_1_ 
    from
        shows show0_ 
    inner join
        schedule schedule1_ 
            on show0_.schedule_id=schedule1_.schedule_id 
    left outer join
        season seasons2_ 
            on show0_.show_id=seasons2_.show_id 
    where
        show0_.show_id=?
2019-04-12 11:38:59,228 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:38:59,266 DEBUG [main] SQL : 
    insert 
    into
        schedule
        (schedule_id, time_of_show) 
    values
        (null, ?)
2019-04-12 11:38:59,267 TRACE [main] BasicBinder : binding parameter [1] as [TIME] - [22:00]
2019-04-12 11:38:59,271 DEBUG [main] SQL : 
    select
        dayofweek0_.day_of_week_id as day_of_w1_1_0_,
        dayofweek0_.day as day2_1_0_ 
    from
        days_of_week dayofweek0_ 
    where
        dayofweek0_.day_of_week_id=?
2019-04-12 11:38:59,272 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:38:59,275 DEBUG [main] SQL : 
    select
        genres0_.shows_show_id as shows_sh1_7_0_,
        genres0_.genres_genre_id as genres_g2_7_0_,
        genre1_.genre_id as genre_id1_3_1_,
        genre1_.name as name2_3_1_ 
    from
        show_genre genres0_ 
    inner join
        genres genre1_ 
            on genres0_.genres_genre_id=genre1_.genre_id 
    where
        genres0_.shows_show_id=?
2019-04-12 11:38:59,276 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:38:59,317 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = java.lang.StackOverflowError, mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:38:59,346 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:39:57,769 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27263 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:39:57,770 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:39:58,169 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:39:58,239 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65ms. Found 4 repository interfaces.
2019-04-12 11:39:58,276 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:39:58,415 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:8e53ed6a-fd8e-42c5-8d24-f07b53c14075;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:40:00,135 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:40:00,178 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:40:00,179 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:40:00,275 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:40:00,370 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:40:00,965 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:40:01,249 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:40:01,437 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.081 seconds (JVM running for 4.919)
2019-04-12 11:40:01,446 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:40:01,480 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27263 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:40:01,480 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:40:01,592 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:40:01,609 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17ms. Found 4 repository interfaces.
2019-04-12 11:40:01,620 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:40:01,642 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:adcea19f-8c5a-4c7d-84cc-17df1f404390;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:40:02,692 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:40:02,697 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:40:02,810 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:40:02,880 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:40:02,979 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.529 seconds (JVM running for 6.461)
2019-04-12 11:40:02,990 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1b60d324]; rollback [true]
2019-04-12 11:40:03,029 DEBUG [main] SQL : 
    select
        show0_.show_id as show_id1_8_2_,
        show0_.image_url as image_ur2_8_2_,
        show0_.imdb_url as imdb_url3_8_2_,
        show0_.language as language4_8_2_,
        show0_.last_update as last_upd5_8_2_,
        show0_.name as name6_8_2_,
        show0_.official_site_url as official7_8_2_,
        show0_.premiered as premiere8_8_2_,
        show0_.rating as rating9_8_2_,
        show0_.runtime as runtime10_8_2_,
        show0_.schedule_id as schedul16_8_2_,
        show0_.status as status11_8_2_,
        show0_.summary as summary12_8_2_,
        show0_.tv_maze_url as tv_maze13_8_2_,
        show0_.tvmaze_id as tvmaze_14_8_2_,
        show0_.type as type15_8_2_,
        schedule1_.schedule_id as schedule1_4_0_,
        schedule1_.time_of_show as time_of_2_4_0_,
        seasons2_.show_id as show_id10_6_4_,
        seasons2_.season_id as season_i1_6_4_,
        seasons2_.season_id as season_i1_6_1_,
        seasons2_.end_date as end_date2_6_1_,
        seasons2_.episode_order as episode_3_6_1_,
        seasons2_.image_url as image_ur4_6_1_,
        seasons2_.number as number5_6_1_,
        seasons2_.premiere_date as premiere6_6_1_,
        seasons2_.show_id as show_id10_6_1_,
        seasons2_.summary as summary7_6_1_,
        seasons2_.tvmaze_url as tvmaze_u8_6_1_,
        seasons2_.tvmaze_id as tvmaze_i9_6_1_ 
    from
        shows show0_ 
    inner join
        schedule schedule1_ 
            on show0_.schedule_id=schedule1_.schedule_id 
    left outer join
        season seasons2_ 
            on show0_.show_id=seasons2_.show_id 
    where
        show0_.show_id=?
2019-04-12 11:40:03,032 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:40:03,061 DEBUG [main] SQL : 
    insert 
    into
        schedule
        (schedule_id, time_of_show) 
    values
        (null, ?)
2019-04-12 11:40:03,061 TRACE [main] BasicBinder : binding parameter [1] as [TIME] - [22:00]
2019-04-12 11:40:03,064 DEBUG [main] SQL : 
    select
        dayofweek0_.day_of_week_id as day_of_w1_1_0_,
        dayofweek0_.day as day2_1_0_ 
    from
        days_of_week dayofweek0_ 
    where
        dayofweek0_.day_of_week_id=?
2019-04-12 11:40:03,065 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:40:03,068 DEBUG [main] SQL : 
    select
        genres0_.shows_show_id as shows_sh1_7_0_,
        genres0_.genres_genre_id as genres_g2_7_0_,
        genre1_.genre_id as genre_id1_3_1_,
        genre1_.name as name2_3_1_ 
    from
        show_genre genres0_ 
    inner join
        genres genre1_ 
            on genres0_.genres_genre_id=genre1_.genre_id 
    where
        genres0_.shows_show_id=?
2019-04-12 11:40:03,069 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:40:03,302 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre{id=0, name='null'}, Genre{id=0, name='null'}, Genre{id=0, name='null'}], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=201, days=[None], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null)>
to be equal to:
 <Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre{id=0, name='Drama'}, Genre{id=0, name='Science-Fiction'}, Genre{id=0, name='Thriller'}], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=0, days=[Thursday], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null)>
but was not., mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:40:03,313 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:44:05,479 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27464 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:44:05,480 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:44:05,920 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:44:05,999 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72ms. Found 4 repository interfaces.
2019-04-12 11:44:06,030 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:44:06,150 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:420cf366-1b4f-433a-8611-c38915da9e93;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:44:07,769 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:44:07,814 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:44:07,815 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:44:07,913 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:44:08,013 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:44:08,649 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:44:08,925 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:44:09,107 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.022 seconds (JVM running for 4.827)
2019-04-12 11:44:09,117 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:44:09,161 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27464 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:44:09,161 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:44:09,258 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:44:09,275 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17ms. Found 4 repository interfaces.
2019-04-12 11:44:09,284 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:44:09,305 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:175f0b23-4444-4bcb-a090-05dd3c19791c;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:44:10,362 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:44:10,368 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:44:10,479 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:44:10,547 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:44:10,601 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.481 seconds (JVM running for 6.322)
2019-04-12 11:44:10,612 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7fe87c0e]; rollback [true]
2019-04-12 11:44:10,645 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = java.lang.IllegalArgumentException: Provided id of the wrong type for class cloud.liso.showservice.model.Genre. Expected: class java.lang.Integer, got class java.lang.String, mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:44:10,655 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:44:41,376 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27550 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:44:41,378 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:44:41,785 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:44:41,867 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73ms. Found 4 repository interfaces.
2019-04-12 11:44:41,897 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:44:42,025 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:61b8dc62-ce8a-4bcb-81a7-9a5b0a6e6be9;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:44:43,743 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:44:43,785 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:44:43,786 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:44:43,872 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:44:43,964 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:44:44,587 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:44:44,884 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:44:45,063 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.127 seconds (JVM running for 4.894)
2019-04-12 11:44:45,071 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:44:45,111 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27550 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:44:45,111 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:44:45,207 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:44:45,221 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 4 repository interfaces.
2019-04-12 11:44:45,231 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:44:45,247 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:d8d93bda-b8c8-4ad2-a983-3480b00eb1a4;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:44:46,370 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:44:46,376 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:44:46,516 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:44:46,610 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:44:46,671 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.596 seconds (JVM running for 6.502)
2019-04-12 11:44:46,682 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@336e3be2]; rollback [true]
2019-04-12 11:44:46,714 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:44:46,716 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:44:46,720 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:44:46,721 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:44:46,721 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:44:46,721 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:44:46,732 DEBUG [main] SQL : 
    select
        show0_.show_id as show_id1_8_2_,
        show0_.image_url as image_ur2_8_2_,
        show0_.imdb_url as imdb_url3_8_2_,
        show0_.language as language4_8_2_,
        show0_.last_update as last_upd5_8_2_,
        show0_.name as name6_8_2_,
        show0_.official_site_url as official7_8_2_,
        show0_.premiered as premiere8_8_2_,
        show0_.rating as rating9_8_2_,
        show0_.runtime as runtime10_8_2_,
        show0_.schedule_id as schedul16_8_2_,
        show0_.status as status11_8_2_,
        show0_.summary as summary12_8_2_,
        show0_.tv_maze_url as tv_maze13_8_2_,
        show0_.tvmaze_id as tvmaze_14_8_2_,
        show0_.type as type15_8_2_,
        schedule1_.schedule_id as schedule1_4_0_,
        schedule1_.time_of_show as time_of_2_4_0_,
        seasons2_.show_id as show_id10_6_4_,
        seasons2_.season_id as season_i1_6_4_,
        seasons2_.season_id as season_i1_6_1_,
        seasons2_.end_date as end_date2_6_1_,
        seasons2_.episode_order as episode_3_6_1_,
        seasons2_.image_url as image_ur4_6_1_,
        seasons2_.number as number5_6_1_,
        seasons2_.premiere_date as premiere6_6_1_,
        seasons2_.show_id as show_id10_6_1_,
        seasons2_.summary as summary7_6_1_,
        seasons2_.tvmaze_url as tvmaze_u8_6_1_,
        seasons2_.tvmaze_id as tvmaze_i9_6_1_ 
    from
        shows show0_ 
    inner join
        schedule schedule1_ 
            on show0_.schedule_id=schedule1_.schedule_id 
    left outer join
        season seasons2_ 
            on show0_.show_id=seasons2_.show_id 
    where
        show0_.show_id=?
2019-04-12 11:44:46,733 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:44:46,767 DEBUG [main] SQL : 
    insert 
    into
        schedule
        (schedule_id, time_of_show) 
    values
        (null, ?)
2019-04-12 11:44:46,768 TRACE [main] BasicBinder : binding parameter [1] as [TIME] - [22:00]
2019-04-12 11:44:46,771 DEBUG [main] SQL : 
    select
        dayofweek0_.day_of_week_id as day_of_w1_1_0_,
        dayofweek0_.day as day2_1_0_ 
    from
        days_of_week dayofweek0_ 
    where
        dayofweek0_.day_of_week_id=?
2019-04-12 11:44:46,772 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:44:46,775 DEBUG [main] SQL : 
    select
        genres0_.shows_show_id as shows_sh1_7_0_,
        genres0_.genres_genre_id as genres_g2_7_0_,
        genre1_.genre_id as genre_id1_3_1_,
        genre1_.name as name2_3_1_ 
    from
        show_genre genres0_ 
    inner join
        genres genre1_ 
            on genres0_.genres_genre_id=genre1_.genre_id 
    where
        genres0_.shows_show_id=?
2019-04-12 11:44:46,775 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:44:46,990 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[null, null, null], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=201, days=[None], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null)>
to be equal to:
 <Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre{id=1, name='Drama'}, Genre{id=2, name='Science-Fiction'}, Genre{id=3, name='Thriller'}], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=0, days=[Thursday], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null)>
but was not., mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:44:47,004 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:46:14,087 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27656 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:46:14,089 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:46:14,568 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:46:14,645 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70ms. Found 4 repository interfaces.
2019-04-12 11:46:14,680 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:46:14,844 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:40d23f0f-1e04-4338-b369-1a4f8b22f903;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:46:16,439 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:46:16,483 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:46:16,484 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:46:16,569 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:46:16,663 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:46:17,268 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:46:17,568 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:46:17,731 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.081 seconds (JVM running for 4.868)
2019-04-12 11:46:17,740 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:46:17,782 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27656 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:46:17,782 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:46:17,908 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:46:17,920 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 4 repository interfaces.
2019-04-12 11:46:17,927 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:46:17,941 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:85822f3b-7bf1-47c6-b895-ae56752f1a6f;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:46:19,043 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:46:19,051 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:46:19,181 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:46:19,249 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:46:19,316 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.571 seconds (JVM running for 6.453)
2019-04-12 11:46:19,329 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@8f4b803]; rollback [true]
2019-04-12 11:46:19,367 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:46:19,370 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:46:19,373 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:46:19,373 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:46:19,374 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:46:19,374 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:46:19,381 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = java.lang.NullPointerException, mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:46:19,390 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:47:17,650 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27740 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:47:17,651 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:47:18,026 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:47:18,091 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59ms. Found 4 repository interfaces.
2019-04-12 11:47:18,123 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:47:18,256 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:fcffecf9-446f-4fd9-acf3-fa4778b2fad8;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:47:19,964 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:47:20,029 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:47:20,030 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:47:20,116 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:47:20,210 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:47:20,846 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:47:21,181 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:47:21,343 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.134 seconds (JVM running for 4.873)
2019-04-12 11:47:21,353 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:47:21,388 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27740 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:47:21,388 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:47:21,491 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:47:21,508 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17ms. Found 4 repository interfaces.
2019-04-12 11:47:21,517 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:47:21,537 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:f2cc3c68-3ace-4522-b8f3-6b3b2c2c0bc2;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:47:22,571 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:47:22,578 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:47:22,718 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:47:22,793 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:47:22,861 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.504 seconds (JVM running for 6.39)
2019-04-12 11:47:22,872 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@213012a0]; rollback [true]
2019-04-12 11:47:22,909 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:47:22,911 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:47:22,914 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:47:22,915 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:47:22,915 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:47:22,915 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:47:22,920 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = java.lang.NullPointerException, mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:47:22,929 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:47:55,824 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27813 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:47:55,825 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:47:56,254 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:47:56,316 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55ms. Found 4 repository interfaces.
2019-04-12 11:47:56,347 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:47:56,480 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:62c00b94-07f0-4832-a560-29a6d18f6ddb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:47:58,143 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:47:58,190 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:47:58,191 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:47:58,309 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:47:58,405 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:47:58,998 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:47:59,303 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:47:59,475 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.109 seconds (JVM running for 4.869)
2019-04-12 11:47:59,484 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:47:59,528 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 27813 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:47:59,529 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:47:59,629 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:47:59,645 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16ms. Found 4 repository interfaces.
2019-04-12 11:47:59,654 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:47:59,674 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:5760ff93-5d97-456d-8677-4501bb522418;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:48:00,770 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:48:00,776 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:48:00,924 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:48:01,009 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:48:01,070 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.581 seconds (JVM running for 6.465)
2019-04-12 11:48:01,080 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@42f9873e]; rollback [true]
2019-04-12 11:48:01,112 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:48:01,113 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:48:01,116 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:48:01,116 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:48:01,117 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:48:01,117 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:48:01,122 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = java.lang.NullPointerException, mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:48:01,130 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:49:11,741 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28049 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:49:11,743 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:49:12,189 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:49:12,258 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62ms. Found 4 repository interfaces.
2019-04-12 11:49:12,291 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:49:12,430 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:45b95f06-7cd5-4d96-8a43-7cf21c7bad98;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:49:14,114 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:49:14,155 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:49:14,156 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:49:14,242 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:49:14,335 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:49:14,949 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:49:15,246 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:49:15,439 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.042 seconds (JVM running for 4.823)
2019-04-12 11:49:15,450 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:49:15,492 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28049 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:49:15,492 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:49:15,582 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:49:15,596 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 4 repository interfaces.
2019-04-12 11:49:15,604 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:49:15,620 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:3addfa41-1a59-4c25-8650-b5952cb58f99;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:49:16,715 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:49:16,723 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:49:16,853 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:49:16,923 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:49:16,976 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.521 seconds (JVM running for 6.361)
2019-04-12 11:49:16,988 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@336e3be2]; rollback [true]
2019-04-12 11:49:17,030 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:49:17,032 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:49:17,036 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:49:17,036 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:49:17,036 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:49:17,036 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:49:17,043 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = java.lang.NullPointerException, mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:49:17,052 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:50:27,040 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28157 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:50:27,047 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:50:27,519 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:50:27,607 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 79ms. Found 4 repository interfaces.
2019-04-12 11:50:27,638 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:50:27,762 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:7695bdf1-9ef7-4364-b9d0-1fd2c4b53a0b;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:50:29,427 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:50:29,471 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:50:29,472 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:50:29,559 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:50:29,653 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:50:30,248 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:50:30,551 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:50:30,746 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.097 seconds (JVM running for 4.849)
2019-04-12 11:50:30,755 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:50:30,810 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28157 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:50:30,810 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:50:30,901 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:50:30,914 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 4 repository interfaces.
2019-04-12 11:50:30,921 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:50:30,937 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:103007f7-deb6-438e-94f6-5434d1448876;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:50:32,116 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:50:32,122 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:50:32,244 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:50:32,331 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:50:32,398 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.638 seconds (JVM running for 6.501)
2019-04-12 11:50:32,411 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@42f9873e]; rollback [true]
2019-04-12 11:50:32,446 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:50:32,448 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:50:32,459 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = java.lang.NullPointerException, mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:50:32,468 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:51:10,885 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28266 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:51:10,887 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:51:11,316 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:51:11,420 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 92ms. Found 4 repository interfaces.
2019-04-12 11:51:11,463 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:51:11,601 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:d5143973-6967-43ac-9ce6-2e687a75c865;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:51:13,241 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:51:13,291 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:51:13,292 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:51:13,398 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:51:13,498 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:51:14,136 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:51:14,417 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:51:14,604 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.139 seconds (JVM running for 4.888)
2019-04-12 11:51:14,615 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:51:14,662 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28266 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:51:14,662 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:51:14,747 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:51:14,762 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 4 repository interfaces.
2019-04-12 11:51:14,771 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:51:14,791 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:5d1f6b25-8e9a-45a2-a1fe-7b8db6946e4f;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:51:15,797 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:51:15,804 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:51:15,926 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:51:15,994 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:51:16,059 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.44 seconds (JVM running for 6.343)
2019-04-12 11:51:16,072 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7fe87c0e]; rollback [true]
2019-04-12 11:51:16,112 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:51:16,114 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:51:16,124 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = java.lang.NullPointerException, mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:51:16,136 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:52:25,511 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28359 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:52:25,513 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:52:25,886 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:52:25,968 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73ms. Found 4 repository interfaces.
2019-04-12 11:52:26,003 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:52:26,153 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:8f491648-2cd6-44cf-9f32-10746960b013;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:52:27,953 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:52:27,996 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:52:27,997 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:52:28,086 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:52:28,189 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:52:28,840 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:52:29,158 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:52:29,347 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.185 seconds (JVM running for 4.99)
2019-04-12 11:52:29,359 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:52:29,406 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28359 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:52:29,407 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:52:29,505 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:52:29,522 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17ms. Found 4 repository interfaces.
2019-04-12 11:52:29,532 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:52:29,553 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:56a2621c-0db9-45ba-b867-93f918c02c00;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:52:30,607 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:52:30,613 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:52:30,730 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:52:30,807 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:52:30,861 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.498 seconds (JVM running for 6.504)
2019-04-12 11:52:30,873 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@43a59289]; rollback [true]
2019-04-12 11:52:30,909 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:52:30,912 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:52:30,924 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:52:30,925 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [2]
2019-04-12 11:52:30,925 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:52:30,925 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [3]
2019-04-12 11:52:30,927 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:52:30,928 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:52:30,978 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:52:30,979 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [2]
2019-04-12 11:52:30,986 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:52:30,986 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [3]
2019-04-12 11:52:31,009 DEBUG [main] SQL : 
    insert 
    into
        schedule
        (schedule_id, time_of_show) 
    values
        (null, ?)
2019-04-12 11:52:31,010 TRACE [main] BasicBinder : binding parameter [1] as [TIME] - [22:00]
2019-04-12 11:52:31,014 DEBUG [main] SQL : 
    select
        dayofweek0_.day_of_week_id as day_of_w1_1_0_,
        dayofweek0_.day as day2_1_0_ 
    from
        days_of_week dayofweek0_ 
    where
        dayofweek0_.day_of_week_id=?
2019-04-12 11:52:31,014 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [0]
2019-04-12 11:52:31,015 DEBUG [main] SQL : 
    select
        genres0_.shows_show_id as shows_sh1_7_0_,
        genres0_.genres_genre_id as genres_g2_7_0_,
        genre1_.genre_id as genre_id1_3_1_,
        genre1_.name as name2_3_1_ 
    from
        show_genre genres0_ 
    inner join
        genres genre1_ 
            on genres0_.genres_genre_id=genre1_.genre_id 
    where
        genres0_.shows_show_id=?
2019-04-12 11:52:31,015 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:52:31,199 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre{id=1, name='Drama'}, Genre{id=2, name='Science-Fiction'}, Genre{id=3, name='Thriller'}], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=201, days=[None], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null)>
to be equal to:
 <Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre{id=1, name='Drama'}, Genre{id=2, name='Science-Fiction'}, Genre{id=3, name='Thriller'}], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=0, days=[Thursday], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null)>
but was not., mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:52:31,211 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:53:21,180 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28452 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:53:21,182 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:53:21,556 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:53:21,638 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75ms. Found 4 repository interfaces.
2019-04-12 11:53:21,675 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:53:21,812 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:111611d8-72bc-4fbe-bf90-d84d6c27cd9a;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:53:23,345 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:53:23,387 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:53:23,389 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:53:23,479 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:53:23,581 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:53:24,200 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:53:24,484 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:53:24,673 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 3.87 seconds (JVM running for 4.612)
2019-04-12 11:53:24,683 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:53:24,736 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28452 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:53:24,736 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:53:24,842 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:53:24,859 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17ms. Found 4 repository interfaces.
2019-04-12 11:53:24,869 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:53:24,889 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:473ed357-9cde-4bb5-aba1-701dac001195;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:53:25,910 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:53:25,916 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:53:26,056 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:53:26,126 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:53:26,178 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.49 seconds (JVM running for 6.116)
2019-04-12 11:53:26,191 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@336e3be2]; rollback [true]
2019-04-12 11:53:26,229 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:53:26,231 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:53:26,251 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:53:26,251 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [2]
2019-04-12 11:53:26,252 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:53:26,252 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [3]
2019-04-12 11:53:26,254 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:53:26,256 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:53:26,310 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:53:26,310 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [2]
2019-04-12 11:53:26,317 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:53:26,317 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [3]
2019-04-12 11:53:26,335 DEBUG [main] SQL : 
    select
        genres0_.shows_show_id as shows_sh1_7_0_,
        genres0_.genres_genre_id as genres_g2_7_0_,
        genre1_.genre_id as genre_id1_3_1_,
        genre1_.name as name2_3_1_ 
    from
        show_genre genres0_ 
    inner join
        genres genre1_ 
            on genres0_.genres_genre_id=genre1_.genre_id 
    where
        genres0_.shows_show_id=?
2019-04-12 11:53:26,336 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:53:26,536 DEBUG [main] SQL : 
    select
        days0_.schedule_id as schedule1_5_0_,
        days0_.days_of_week_id as days_of_2_5_0_,
        dayofweek1_.day_of_week_id as day_of_w1_1_1_,
        dayofweek1_.day as day2_1_1_ 
    from
        schedule_days_of_week days0_ 
    inner join
        days_of_week dayofweek1_ 
            on days0_.days_of_week_id=dayofweek1_.day_of_week_id 
    where
        days0_.schedule_id=?
2019-04-12 11:53:26,537 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:53:26,546 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre{id=1, name='Drama'}, Genre{id=2, name='Science-Fiction'}, Genre{id=3, name='Thriller'}], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=1, days=[Thursday], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null)>
to be equal to:
 <Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre{id=1, name='Drama'}, Genre{id=2, name='Science-Fiction'}, Genre{id=3, name='Thriller'}], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=0, days=[Thursday], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null)>
but was not., mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:53:26,556 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:54:09,216 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28525 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:54:09,218 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:54:09,624 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:54:09,707 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 74ms. Found 4 repository interfaces.
2019-04-12 11:54:09,746 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:54:09,891 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:0c06f605-f33b-43dd-9644-20453b6af732;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:54:11,650 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:54:11,695 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:54:11,697 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:54:11,794 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:54:11,917 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:54:12,551 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:54:12,842 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:54:13,007 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.206 seconds (JVM running for 4.951)
2019-04-12 11:54:13,017 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:54:13,058 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28525 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:54:13,058 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:54:13,171 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:54:13,183 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 4 repository interfaces.
2019-04-12 11:54:13,190 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:54:13,204 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:d1cc355f-1be5-45f0-a839-481457930155;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:54:14,482 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:54:14,488 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:54:14,611 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:54:14,669 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:54:14,732 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.712 seconds (JVM running for 6.676)
2019-04-12 11:54:14,743 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@213012a0]; rollback [true]
2019-04-12 11:54:14,777 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:54:14,779 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:54:14,794 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:54:14,795 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [2]
2019-04-12 11:54:14,795 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:54:14,796 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [3]
2019-04-12 11:54:14,797 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:54:14,798 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:54:14,848 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:54:14,848 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [2]
2019-04-12 11:54:14,854 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:54:14,854 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [3]
2019-04-12 11:54:14,868 DEBUG [main] SQL : 
    select
        genres0_.shows_show_id as shows_sh1_7_0_,
        genres0_.genres_genre_id as genres_g2_7_0_,
        genre1_.genre_id as genre_id1_3_1_,
        genre1_.name as name2_3_1_ 
    from
        show_genre genres0_ 
    inner join
        genres genre1_ 
            on genres0_.genres_genre_id=genre1_.genre_id 
    where
        genres0_.shows_show_id=?
2019-04-12 11:54:14,869 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:54:14,898 DEBUG [main] SQL : 
    select
        days0_.schedule_id as schedule1_5_0_,
        days0_.days_of_week_id as days_of_2_5_0_,
        dayofweek1_.day_of_week_id as day_of_w1_1_1_,
        dayofweek1_.day as day2_1_1_ 
    from
        schedule_days_of_week days0_ 
    inner join
        days_of_week dayofweek1_ 
            on days0_.days_of_week_id=dayofweek1_.day_of_week_id 
    where
        days0_.schedule_id=?
2019-04-12 11:54:14,899 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:54:14,908 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre{id=1, name='Drama'}, Genre{id=2, name='Science-Fiction'}, Genre{id=3, name='Thriller'}], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=1, days=[Thursday], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null)>
to be equal to:
 <Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre{id=1, name='Drama'}, Genre{id=2, name='Science-Fiction'}, Genre{id=3, name='Thriller'}], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=0, days=[Thursday], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null)>
but was not., mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:54:14,918 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:56:06,012 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28698 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:56:06,013 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:56:06,368 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:56:06,455 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 79ms. Found 4 repository interfaces.
2019-04-12 11:56:06,489 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:56:06,620 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:b71459c8-80e1-44e5-b278-c91ed117020f;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:56:08,330 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:56:08,394 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:56:08,395 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:56:08,481 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:56:08,581 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:56:09,191 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:56:09,477 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:56:09,634 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 3.97 seconds (JVM running for 4.72)
2019-04-12 11:56:09,644 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:56:09,681 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28698 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:56:09,681 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:56:09,772 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:56:09,786 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 4 repository interfaces.
2019-04-12 11:56:09,794 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:56:09,811 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:b87f1218-f29d-484b-a898-6e56cb45bfdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:56:10,912 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:56:10,918 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:56:11,033 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:56:11,105 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:56:11,158 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.51 seconds (JVM running for 6.243)
2019-04-12 11:56:11,168 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@336e3be2]; rollback [true]
2019-04-12 11:56:11,199 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:56:11,201 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:56:11,213 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:56:11,214 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [2]
2019-04-12 11:56:11,214 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:56:11,214 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [3]
2019-04-12 11:56:11,216 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:56:11,218 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:56:11,265 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:56:11,265 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [2]
2019-04-12 11:56:11,271 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:56:11,272 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [3]
2019-04-12 11:56:11,287 DEBUG [main] SQL : 
    select
        genres0_.shows_show_id as shows_sh1_7_0_,
        genres0_.genres_genre_id as genres_g2_7_0_,
        genre1_.genre_id as genre_id1_3_1_,
        genre1_.name as name2_3_1_ 
    from
        show_genre genres0_ 
    inner join
        genres genre1_ 
            on genres0_.genres_genre_id=genre1_.genre_id 
    where
        genres0_.shows_show_id=?
2019-04-12 11:56:11,287 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:56:11,490 DEBUG [main] SQL : 
    select
        days0_.schedule_id as schedule1_5_0_,
        days0_.days_of_week_id as days_of_2_5_0_,
        dayofweek1_.day_of_week_id as day_of_w1_1_1_,
        dayofweek1_.day as day2_1_1_ 
    from
        schedule_days_of_week days0_ 
    inner join
        days_of_week dayofweek1_ 
            on days0_.days_of_week_id=dayofweek1_.day_of_week_id 
    where
        days0_.schedule_id=?
2019-04-12 11:56:11,491 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:56:11,501 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre{id=1, name='Drama'}, Genre{id=2, name='Science-Fiction'}, Genre{id=3, name='Thriller'}], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=1, days=[Thursday], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null) (Show@40017e98)">
to be equal to:
 <"Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre{id=1, name='Drama'}, Genre{id=2, name='Science-Fiction'}, Genre{id=3, name='Thriller'}], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=1, days=[Thursday], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null) (Show@2adc1e84)">
but was not., mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:56:11,510 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:57:36,012 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28817 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:57:36,013 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:57:36,439 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:57:36,519 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71ms. Found 4 repository interfaces.
2019-04-12 11:57:36,562 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:57:36,689 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:10bce445-7b45-4f34-a45d-edf3f2ed4d67;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:57:38,583 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:57:38,626 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:57:38,627 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:57:38,719 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:57:38,813 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:57:39,438 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:57:39,831 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:57:40,004 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.471 seconds (JVM running for 5.185)
2019-04-12 11:57:40,013 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:57:40,045 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 28817 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:57:40,046 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:57:40,135 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:57:40,149 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 4 repository interfaces.
2019-04-12 11:57:40,158 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:57:40,175 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:25e06e5c-a091-4818-858c-2450b65b9e1e;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:57:41,428 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:57:41,433 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:57:41,584 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:57:41,682 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:57:41,734 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.719 seconds (JVM running for 6.915)
2019-04-12 11:57:41,744 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@182e4365]; rollback [true]
2019-04-12 11:57:41,779 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:57:41,782 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:57:41,794 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:57:41,795 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [2]
2019-04-12 11:57:41,795 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:57:41,796 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [3]
2019-04-12 11:57:41,798 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:57:41,799 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:57:41,848 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:57:41,849 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [2]
2019-04-12 11:57:41,856 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:57:41,856 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [3]
2019-04-12 11:57:41,870 DEBUG [main] SQL : 
    select
        genres0_.shows_show_id as shows_sh1_7_0_,
        genres0_.genres_genre_id as genres_g2_7_0_,
        genre1_.genre_id as genre_id1_3_1_,
        genre1_.name as name2_3_1_ 
    from
        show_genre genres0_ 
    inner join
        genres genre1_ 
            on genres0_.genres_genre_id=genre1_.genre_id 
    where
        genres0_.shows_show_id=?
2019-04-12 11:57:41,871 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:57:42,054 DEBUG [main] SQL : 
    select
        days0_.schedule_id as schedule1_5_0_,
        days0_.days_of_week_id as days_of_2_5_0_,
        dayofweek1_.day_of_week_id as day_of_w1_1_1_,
        dayofweek1_.day as day2_1_1_ 
    from
        schedule_days_of_week days0_ 
    inner join
        days_of_week dayofweek1_ 
            on days0_.days_of_week_id=dayofweek1_.day_of_week_id 
    where
        days0_.schedule_id=?
2019-04-12 11:57:42,055 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:57:42,067 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre{id=1, name='Drama'}, Genre{id=2, name='Science-Fiction'}, Genre{id=3, name='Thriller'}], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=1, days=[Thursday], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null) (Show@1dbeedff)">
to be equal to:
 <"Show(id=1, tvmazeId=0, name=Under the Dome, type=Scripted, language=English, genres=[Genre{id=1, name='Drama'}, Genre{id=2, name='Science-Fiction'}, Genre{id=3, name='Thriller'}], status=Ended, runtime=60, premiered=2013-06-24, officialSite=http://www.cbs.com/shows/under-the-dome/, schedule=Schedule(id=1, days=[Thursday], time=22:00), rating=0.0, imdb=https://www.imdb.com/title/tt1553656, tvMaze=http://www.tvmaze.com/shows/1/under-the-dome, image=http://static.tvmaze.com/uploads/images/original_untouched/81/202627.jpg, summary=Under the Dome is the story of a small town that is suddenly and inexplicably sealed off from the rest of the world by an enormous transparent dome. The town's inhabitants must deal with surviving the post-apocalyptic conditions while searching for answers about the dome, where it came from and if and when it will go away., lastUpdate=2010-03-12T22:11:11, seasons=null) (Show@799fb45e)">
but was not., mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:57:42,077 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:59:21,654 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 29040 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:59:21,655 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:59:22,127 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:59:22,192 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59ms. Found 4 repository interfaces.
2019-04-12 11:59:22,226 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:59:22,349 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:137a3136-c565-4dd3-b8e3-343d4b4ec75c;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:59:24,050 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:59:24,098 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 11:59:24,099 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 11:59:24,196 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 11:59:24,317 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:59:24,937 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:59:25,243 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:59:25,416 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.151 seconds (JVM running for 4.936)
2019-04-12 11:59:25,424 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:59:25,462 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 29040 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 11:59:25,462 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 11:59:25,561 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 11:59:25,575 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13ms. Found 4 repository interfaces.
2019-04-12 11:59:25,582 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 11:59:25,599 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:5ff5df5c-b612-42c3-876c-fc3430e50cad;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 11:59:26,607 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 11:59:26,611 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 11:59:26,723 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 11:59:26,788 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 11:59:26,848 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.42 seconds (JVM running for 6.369)
2019-04-12 11:59:26,858 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@433d93e7]; rollback [true]
2019-04-12 11:59:26,891 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:59:26,893 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:59:26,910 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:59:26,910 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [2]
2019-04-12 11:59:26,911 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 11:59:26,911 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [3]
2019-04-12 11:59:26,913 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:59:26,914 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:59:26,970 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:59:26,971 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [2]
2019-04-12 11:59:26,976 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 11:59:26,977 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [3]
2019-04-12 11:59:26,994 DEBUG [main] SQL : 
    select
        genres0_.shows_show_id as shows_sh1_7_0_,
        genres0_.genres_genre_id as genres_g2_7_0_,
        genre1_.genre_id as genre_id1_3_1_,
        genre1_.name as name2_3_1_ 
    from
        show_genre genres0_ 
    inner join
        genres genre1_ 
            on genres0_.genres_genre_id=genre1_.genre_id 
    where
        genres0_.shows_show_id=?
2019-04-12 11:59:26,994 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 11:59:27,215 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@45b4c3a9 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@4e3958e7, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@399c4be1 testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3f197a46, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@68999068, [ImportsContextCustomizer@291caca8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61862a7f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d9b7cce, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 11:59:27,224 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 12:05:19,280 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 29291 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 12:05:19,282 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 12:05:19,665 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 12:05:19,736 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66ms. Found 4 repository interfaces.
2019-04-12 12:05:19,775 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 12:05:19,916 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:33cfde10-0830-4660-b155-254a0237a8de;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 12:05:21,667 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 12:05:21,727 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 12:05:21,728 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 12:05:21,815 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 12:05:21,908 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 12:05:22,509 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 12:05:22,827 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 12:05:22,998 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.093 seconds (JVM running for 4.885)
2019-04-12 12:05:23,006 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 12:05:23,040 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 29291 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 12:05:23,040 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 12:05:23,138 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 12:05:23,150 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12ms. Found 4 repository interfaces.
2019-04-12 12:05:23,157 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 12:05:23,172 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:3b4d7aff-0ec7-42b6-a2c3-439460e132ab;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 12:05:24,143 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 12:05:24,149 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 12:05:24,254 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 12:05:24,331 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 12:05:24,376 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.367 seconds (JVM running for 6.264)
2019-04-12 12:05:24,389 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@385e9564 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@5c90e579, testMethod = getShowById_ReturnsShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5b94b04d testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50a638b5, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2ef3eef9, [ImportsContextCustomizer@8c3b9d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7334aada, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@42e99e4a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@517a46f3]; rollback [true]
2019-04-12 12:05:24,436 DEBUG [main] SQL : 
    select
        show0_.show_id as show_id1_8_0_,
        show0_.image_url as image_ur2_8_0_,
        show0_.imdb_url as imdb_url3_8_0_,
        show0_.language as language4_8_0_,
        show0_.last_update as last_upd5_8_0_,
        show0_.name as name6_8_0_,
        show0_.official_site_url as official7_8_0_,
        show0_.premiered as premiere8_8_0_,
        show0_.rating as rating9_8_0_,
        show0_.runtime as runtime10_8_0_,
        show0_.schedule_id as schedul16_8_0_,
        show0_.status as status11_8_0_,
        show0_.summary as summary12_8_0_,
        show0_.tv_maze_url as tv_maze13_8_0_,
        show0_.tvmaze_id as tvmaze_14_8_0_,
        show0_.type as type15_8_0_,
        schedule1_.schedule_id as schedule1_4_1_,
        schedule1_.time_of_show as time_of_2_4_1_ 
    from
        shows show0_ 
    inner join
        schedule schedule1_ 
            on show0_.schedule_id=schedule1_.schedule_id 
    where
        show0_.show_id=?
2019-04-12 12:05:24,439 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 12:05:24,622 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@385e9564 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@5c90e579, testMethod = getShowById_ReturnsShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5b94b04d testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50a638b5, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2ef3eef9, [ImportsContextCustomizer@8c3b9d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7334aada, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@42e99e4a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 12:05:24,626 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 12:05:24,655 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 29291 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 12:05:24,655 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 12:05:24,714 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 12:05:24,726 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11ms. Found 4 repository interfaces.
2019-04-12 12:05:24,733 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 12:05:24,749 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:2f350544-25da-410f-828f-503ec6bd9d4b;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 12:05:25,537 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 12:05:25,542 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 12:05:25,636 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 12:05:25,697 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 12:05:25,742 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.114 seconds (JVM running for 7.629)
2019-04-12 12:05:25,745 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@385e9564 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@11ce9319, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5b94b04d testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50a638b5, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2ef3eef9, [ImportsContextCustomizer@8c3b9d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7334aada, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@42e99e4a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@56b704ea]; rollback [true]
2019-04-12 12:05:25,746 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 12:05:25,746 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 12:05:25,747 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 12:05:25,748 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [2]
2019-04-12 12:05:25,749 DEBUG [main] SQL : 
    select
        genre0_.genre_id as genre_id1_3_0_,
        genre0_.name as name2_3_0_ 
    from
        genres genre0_ 
    where
        genre0_.genre_id=?
2019-04-12 12:05:25,749 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [3]
2019-04-12 12:05:25,751 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 12:05:25,751 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 12:05:25,799 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 12:05:25,799 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [2]
2019-04-12 12:05:25,805 DEBUG [main] SQL : 
    select
        shows0_.genres_genre_id as genres_g2_7_0_,
        shows0_.shows_show_id as shows_sh1_7_0_,
        show1_.show_id as show_id1_8_1_,
        show1_.image_url as image_ur2_8_1_,
        show1_.imdb_url as imdb_url3_8_1_,
        show1_.language as language4_8_1_,
        show1_.last_update as last_upd5_8_1_,
        show1_.name as name6_8_1_,
        show1_.official_site_url as official7_8_1_,
        show1_.premiered as premiere8_8_1_,
        show1_.rating as rating9_8_1_,
        show1_.runtime as runtime10_8_1_,
        show1_.schedule_id as schedul16_8_1_,
        show1_.status as status11_8_1_,
        show1_.summary as summary12_8_1_,
        show1_.tv_maze_url as tv_maze13_8_1_,
        show1_.tvmaze_id as tvmaze_14_8_1_,
        show1_.type as type15_8_1_,
        schedule2_.schedule_id as schedule1_4_2_,
        schedule2_.time_of_show as time_of_2_4_2_ 
    from
        show_genre shows0_ 
    inner join
        shows show1_ 
            on shows0_.shows_show_id=show1_.show_id 
    inner join
        schedule schedule2_ 
            on show1_.schedule_id=schedule2_.schedule_id 
    where
        shows0_.genres_genre_id=?
2019-04-12 12:05:25,805 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [3]
2019-04-12 12:05:25,816 DEBUG [main] SQL : 
    select
        genres0_.shows_show_id as shows_sh1_7_0_,
        genres0_.genres_genre_id as genres_g2_7_0_,
        genre1_.genre_id as genre_id1_3_1_,
        genre1_.name as name2_3_1_ 
    from
        show_genre genres0_ 
    inner join
        genres genre1_ 
            on genres0_.genres_genre_id=genre1_.genre_id 
    where
        genres0_.shows_show_id=?
2019-04-12 12:05:25,816 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 12:05:25,821 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@385e9564 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@11ce9319, testMethod = save_validShow_returnsSaveShow@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@5b94b04d testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50a638b5, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@ff5db8e0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2ef3eef9, [ImportsContextCustomizer@8c3b9d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7334aada, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@42e99e4a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 12:05:25,828 INFO  [Thread-6] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 12:58:17,194 INFO  [main] ShowServiceApplication : Starting ShowServiceApplication on liso-desktop with PID 478 (/home/liso/Dropbox/workspaces/java/show-service/out/production/classes started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 12:58:17,197 INFO  [main] ShowServiceApplication : The following profiles are active: dev
2019-04-12 12:58:17,870 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 12:58:17,914 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40ms. Found 5 repository interfaces.
2019-04-12 12:58:18,149 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$7b680f25] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 12:58:18,173 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$fae85c57] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 12:58:18,376 INFO  [main] TomcatWebServer : Tomcat initialized with port(s): 8080 (http)
2019-04-12 12:58:18,393 INFO  [main] StandardService : Starting service [Tomcat]
2019-04-12 12:58:18,394 INFO  [main] StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-12 12:58:18,399 INFO  [main] AprLifecycleListener : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-12 12:58:18,460 INFO  [main] [/] : Initializing Spring embedded WebApplicationContext
2019-04-12 12:58:18,460 DEBUG [main] ContextLoader : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
2019-04-12 12:58:18,460 INFO  [main] ContextLoader : Root WebApplicationContext: initialization completed in 1233 ms
2019-04-12 12:58:18,789 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 12:58:18,789 WARN  [main] DriverDataSource : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2019-04-12 12:58:18,997 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 12:58:19,023 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 12:58:19,053 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 12:58:19,054 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 12:58:19,116 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 12:58:19,189 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2019-04-12 12:58:19,662 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 12:58:19,847 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 12:58:20,169 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 12:58:20,183 ERROR [main] ErrorTracker :  left and right hand sides of a binary logic operator were incompatibile [java.util.Collection(cloud.liso.showservice.model.Genre.shows) : integer]
2019-04-12 12:58:20,186 ERROR [main] ErrorTracker :  left and right hand sides of a binary logic operator were incompatibile [java.util.Collection(cloud.liso.showservice.model.Genre.shows) : integer]
antlr.SemanticException: left and right hand sides of a binary logic operator were incompatibile [java.util.Collection(cloud.liso.showservice.model.Genre.shows) : integer]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.handleWithFragment(HqlSqlWalker.java:521)
	at org.hibernate.hql.internal.ast.HqlSqlWalker.createEntityJoin(HqlSqlWalker.java:487)
	at org.hibernate.hql.internal.ast.HqlSqlWalker.createFromJoinElement(HqlSqlWalker.java:387)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.joinElement(HqlSqlBaseWalker.java:3920)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3706)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3584)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:720)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:576)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:313)
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:261)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:271)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:191)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:143)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:119)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:595)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:704)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350)
	at com.sun.proxy.$Proxy127.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:139)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:206)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:79)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:566)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:559)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Iterator.forEachRemaining(Iterator.java:116)
	at java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1049)
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:561)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:551)
	at java.util.Optional.map(Optional.java:215)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.<init>(RepositoryFactorySupport.java:551)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:324)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:211)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:119)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1111)
	at org.springframework.data.repository.support.Repositories.cacheRepositoryFactory(Repositories.java:97)
	at org.springframework.data.repository.support.Repositories.populateRepositoryFactoryInformation(Repositories.java:90)
	at org.springframework.data.repository.support.Repositories.<init>(Repositories.java:83)
	at org.springframework.data.repository.support.DomainClassConverter.setApplicationContext(DomainClassConverter.java:109)
	at org.springframework.data.web.config.SpringDataWebConfiguration.addFormatters(SpringDataWebConfiguration.java:131)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurerComposite.addFormatters(WebMvcConfigurerComposite.java:81)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration.addFormatters(DelegatingWebMvcConfiguration.java:78)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.mvcConversionService(WebMvcConfigurationSupport.java:633)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$4028f45b.CGLIB$mvcConversionService$39(<generated>)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$4028f45b$$FastClassBySpringCGLIB$$3eaf245.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$4028f45b.mvcConversionService(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:394)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:366)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$4028f45b.mvcConversionService(<generated>)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getInterceptors(WebMvcConfigurationSupport.java:330)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerMapping(WebMvcConfigurationSupport.java:277)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$4028f45b.CGLIB$requestMappingHandlerMapping$24(<generated>)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$4028f45b$$FastClassBySpringCGLIB$$3eaf245.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$4028f45b.requestMappingHandlerMapping(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1463)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1427)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1318)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1463)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1427)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1318)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at cloud.liso.showservice.ShowServiceApplication.main(ShowServiceApplication.java:12)
2019-04-12 12:58:20,192 WARN  [main] AnnotationConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'documentationPluginsBootstrapper' defined in URL [jar:file:/home/liso/.gradle/caches/modules-2/files-2.1/io.springfox/springfox-spring-web/2.9.2/ed2ed714a6cba8804d00f80f0534901e4c7a3211/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/plugins/DocumentationPluginsBootstrapper.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webMvcRequestHandlerProvider' defined in URL [jar:file:/home/liso/.gradle/caches/modules-2/files-2.1/io.springfox/springfox-spring-web/2.9.2/ed2ed714a6cba8804d00f80f0534901e4c7a3211/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/plugins/WebMvcRequestHandlerProvider.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]: Factory method 'requestMappingHandlerMapping' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'genreRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page cloud.liso.showservice.repositories.GenreRepository.findGenreByName(org.springframework.data.domain.PageRequest)!
2019-04-12 12:58:20,194 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 12:58:20,195 INFO  [main] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 12:58:20,197 INFO  [main] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 12:58:20,199 INFO  [main] StandardService : Stopping service [Tomcat]
2019-04-12 12:58:20,210 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 12:58:20,216 ERROR [main] SpringApplication : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'documentationPluginsBootstrapper' defined in URL [jar:file:/home/liso/.gradle/caches/modules-2/files-2.1/io.springfox/springfox-spring-web/2.9.2/ed2ed714a6cba8804d00f80f0534901e4c7a3211/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/plugins/DocumentationPluginsBootstrapper.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webMvcRequestHandlerProvider' defined in URL [jar:file:/home/liso/.gradle/caches/modules-2/files-2.1/io.springfox/springfox-spring-web/2.9.2/ed2ed714a6cba8804d00f80f0534901e4c7a3211/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/plugins/WebMvcRequestHandlerProvider.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]: Factory method 'requestMappingHandlerMapping' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'genreRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page cloud.liso.showservice.repositories.GenreRepository.findGenreByName(org.springframework.data.domain.PageRequest)!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at cloud.liso.showservice.ShowServiceApplication.main(ShowServiceApplication.java:12)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webMvcRequestHandlerProvider' defined in URL [jar:file:/home/liso/.gradle/caches/modules-2/files-2.1/io.springfox/springfox-spring-web/2.9.2/ed2ed714a6cba8804d00f80f0534901e4c7a3211/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/plugins/WebMvcRequestHandlerProvider.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]: Factory method 'requestMappingHandlerMapping' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'genreRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page cloud.liso.showservice.repositories.GenreRepository.findGenreByName(org.springframework.data.domain.PageRequest)!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:218)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1171)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1463)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1427)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1318)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]: Factory method 'requestMappingHandlerMapping' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'genreRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page cloud.liso.showservice.repositories.GenreRepository.findGenreByName(org.springframework.data.domain.PageRequest)!
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1463)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1427)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1318)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)
	... 36 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping]: Factory method 'requestMappingHandlerMapping' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'genreRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page cloud.liso.showservice.repositories.GenreRepository.findGenreByName(org.springframework.data.domain.PageRequest)!
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622)
	... 53 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'genreRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page cloud.liso.showservice.repositories.GenreRepository.findGenreByName(org.springframework.data.domain.PageRequest)!
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:627)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:456)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1305)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1144)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:394)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:366)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$4028f45b.mvcConversionService(<generated>)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getInterceptors(WebMvcConfigurationSupport.java:330)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerMapping(WebMvcConfigurationSupport.java:277)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$4028f45b.CGLIB$requestMappingHandlerMapping$24(<generated>)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$4028f45b$$FastClassBySpringCGLIB$$3eaf245.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$4028f45b.requestMappingHandlerMapping(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 54 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'genreRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page cloud.liso.showservice.repositories.GenreRepository.findGenreByName(org.springframework.data.domain.PageRequest)!
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:622)
	... 78 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'genreRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page cloud.liso.showservice.repositories.GenreRepository.findGenreByName(org.springframework.data.domain.PageRequest)!
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1111)
	at org.springframework.data.repository.support.Repositories.cacheRepositoryFactory(Repositories.java:97)
	at org.springframework.data.repository.support.Repositories.populateRepositoryFactoryInformation(Repositories.java:90)
	at org.springframework.data.repository.support.Repositories.<init>(Repositories.java:83)
	at org.springframework.data.repository.support.DomainClassConverter.setApplicationContext(DomainClassConverter.java:109)
	at org.springframework.data.web.config.SpringDataWebConfiguration.addFormatters(SpringDataWebConfiguration.java:131)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurerComposite.addFormatters(WebMvcConfigurerComposite.java:81)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration.addFormatters(DelegatingWebMvcConfiguration.java:78)
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.mvcConversionService(WebMvcConfigurationSupport.java:633)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$4028f45b.CGLIB$mvcConversionService$39(<generated>)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$4028f45b$$FastClassBySpringCGLIB$$3eaf245.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363)
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$4028f45b.mvcConversionService(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 79 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page cloud.liso.showservice.repositories.GenreRepository.findGenreByName(org.springframework.data.domain.PageRequest)!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:63)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:139)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:206)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:79)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:566)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:559)
	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
	at java.util.Iterator.forEachRemaining(Iterator.java:116)
	at java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1049)
	at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:561)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:551)
	at java.util.Optional.map(Optional.java:215)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.<init>(RepositoryFactorySupport.java:551)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:324)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:211)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:119)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1821)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758)
	... 104 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: left and right hand sides of a binary logic operator were incompatibile [java.util.Collection(cloud.liso.showservice.model.Genre.shows) : integer] [SELECT new cloud.liso.showservice.dto.ShowCardDto(show.id, show.name, show.image, show.rating, count(show.id)) FROM cloud.liso.showservice.model.Genre genre INNER JOIN cloud.liso.showservice.model.Show show ON genre.shows = show.id GROUP BY show.id ORDER BY show.id]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:713)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350)
	at com.sun.proxy.$Proxy127.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87)
	... 133 common frames omitted
Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: left and right hand sides of a binary logic operator were incompatibile [java.util.Collection(cloud.liso.showservice.model.Genre.shows) : integer] [SELECT new cloud.liso.showservice.dto.ShowCardDto(show.id, show.name, show.image, show.rating, count(show.id)) FROM cloud.liso.showservice.model.Genre genre INNER JOIN cloud.liso.showservice.model.Show show ON genre.shows = show.id GROUP BY show.id ORDER BY show.id]
	at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74)
	at org.hibernate.hql.internal.ast.ErrorTracker.throwQueryException(ErrorTracker.java:93)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:277)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:191)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:143)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:119)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:80)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:595)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:704)
	... 141 common frames omitted
2019-04-12 13:02:32,563 INFO  [main] ShowServiceApplication : Starting ShowServiceApplication on liso-desktop with PID 916 (/home/liso/Dropbox/workspaces/java/show-service/out/production/classes started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 13:02:32,565 INFO  [main] ShowServiceApplication : The following profiles are active: dev
2019-04-12 13:02:33,249 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 13:02:33,298 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 5 repository interfaces.
2019-04-12 13:02:33,559 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$dc9e66fb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 13:02:33,578 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$5c1eb42d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 13:02:33,756 INFO  [main] TomcatWebServer : Tomcat initialized with port(s): 8080 (http)
2019-04-12 13:02:33,773 INFO  [main] StandardService : Starting service [Tomcat]
2019-04-12 13:02:33,773 INFO  [main] StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-12 13:02:33,778 INFO  [main] AprLifecycleListener : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-12 13:02:33,823 INFO  [main] [/] : Initializing Spring embedded WebApplicationContext
2019-04-12 13:02:33,824 DEBUG [main] ContextLoader : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
2019-04-12 13:02:33,824 INFO  [main] ContextLoader : Root WebApplicationContext: initialization completed in 1231 ms
2019-04-12 13:02:34,135 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 13:02:34,135 WARN  [main] DriverDataSource : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2019-04-12 13:02:34,337 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 13:02:34,363 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 13:02:34,392 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 13:02:34,393 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 13:02:34,456 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 13:02:34,543 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2019-04-12 13:02:34,972 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 13:02:35,161 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 13:02:35,446 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 13:02:35,486 DEBUG [main] RequestMappingHandlerMapping : 9 mappings in 'requestMappingHandlerMapping'
2019-04-12 13:02:35,527 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 13:02:35,574 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 13:02:35,654 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 13:02:35,671 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 13:02:35,819 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 13:02:35,828 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 13:02:35,842 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 13:02:35,923 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 13:02:35,924 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 13:02:35,926 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 13:02:35,981 INFO  [main] TomcatWebServer : Tomcat started on port(s): 8080 (http) with context path ''
2019-04-12 13:02:35,983 INFO  [main] ShowServiceApplication : Started ShowServiceApplication in 3.708 seconds (JVM running for 4.03)
2019-04-12 13:02:36,121 INFO  [RMI TCP Connection(2)-127.0.0.1] [/] : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-04-12 13:02:36,121 INFO  [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Initializing Servlet 'dispatcherServlet'
2019-04-12 13:02:36,122 DEBUG [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Detected StandardServletMultipartResolver
2019-04-12 13:02:36,129 DEBUG [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2019-04-12 13:02:36,129 INFO  [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Completed initialization in 7 ms
2019-04-12 13:11:40,248 INFO  [Thread-11] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 13:11:40,250 INFO  [Thread-11] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 13:11:40,253 INFO  [Thread-11] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 13:11:43,252 INFO  [main] ShowServiceApplication : Starting ShowServiceApplication on liso-desktop with PID 1536 (/home/liso/Dropbox/workspaces/java/show-service/out/production/classes started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 13:11:43,254 INFO  [main] ShowServiceApplication : The following profiles are active: dev
2019-04-12 13:11:44,377 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 13:11:44,442 WARN  [main] AnnotationConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'genreRepository' defined in null: Cannot register bean definition [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] for bean 'genreRepository': There is already [Generic bean: class [cloud.liso.showservice.controllers.GenreRepository]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in file [/home/liso/Dropbox/workspaces/java/show-service/out/production/classes/cloud/liso/showservice/controllers/GenreRepository.class]] bound.
2019-04-12 13:11:44,453 INFO  [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-04-12 13:11:44,455 ERROR [main] LoggingFailureAnalysisReporter : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'genreRepository', defined in null, could not be registered. A bean with that name has already been defined in file [/home/liso/Dropbox/workspaces/java/show-service/out/production/classes/cloud/liso/showservice/controllers/GenreRepository.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

2019-04-12 13:12:42,518 INFO  [main] ShowServiceApplication : Starting ShowServiceApplication on liso-desktop with PID 2145 (/home/liso/Dropbox/workspaces/java/show-service/out/production/classes started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 13:12:42,520 INFO  [main] ShowServiceApplication : The following profiles are active: dev
2019-04-12 13:12:43,191 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 13:12:43,236 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41ms. Found 5 repository interfaces.
2019-04-12 13:12:43,484 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b280a72c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 13:12:43,503 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$3200f45e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 13:12:43,680 INFO  [main] TomcatWebServer : Tomcat initialized with port(s): 8080 (http)
2019-04-12 13:12:43,694 INFO  [main] StandardService : Starting service [Tomcat]
2019-04-12 13:12:43,694 INFO  [main] StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-12 13:12:43,698 INFO  [main] AprLifecycleListener : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-12 13:12:43,746 INFO  [main] [/] : Initializing Spring embedded WebApplicationContext
2019-04-12 13:12:43,746 DEBUG [main] ContextLoader : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
2019-04-12 13:12:43,746 INFO  [main] ContextLoader : Root WebApplicationContext: initialization completed in 1198 ms
2019-04-12 13:12:44,072 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 13:12:44,072 WARN  [main] DriverDataSource : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2019-04-12 13:12:44,273 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 13:12:44,299 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 13:12:44,329 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 13:12:44,330 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 13:12:44,391 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 13:12:44,490 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2019-04-12 13:12:44,951 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 13:12:45,157 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 13:12:45,460 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 13:12:45,494 DEBUG [main] RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2019-04-12 13:12:45,536 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 13:12:45,585 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 13:12:45,673 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 13:12:45,689 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 13:12:45,834 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 13:12:45,843 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 13:12:45,856 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 13:12:45,951 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 13:12:45,952 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 13:12:45,953 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 13:12:46,006 INFO  [main] TomcatWebServer : Tomcat started on port(s): 8080 (http) with context path ''
2019-04-12 13:12:46,007 INFO  [main] ShowServiceApplication : Started ShowServiceApplication in 3.8 seconds (JVM running for 4.15)
2019-04-12 13:12:46,215 INFO  [RMI TCP Connection(2)-127.0.0.1] [/] : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-04-12 13:12:46,215 INFO  [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Initializing Servlet 'dispatcherServlet'
2019-04-12 13:12:46,215 DEBUG [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Detected StandardServletMultipartResolver
2019-04-12 13:12:46,222 DEBUG [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2019-04-12 13:12:46,223 INFO  [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Completed initialization in 7 ms
2019-04-12 13:12:51,805 DEBUG [http-nio-8080-exec-2] DispatcherServlet : GET "/0", parameters={}
2019-04-12 13:12:51,810 WARN  [http-nio-8080-exec-2] PageNotFound : No mapping for GET /0
2019-04-12 13:12:51,810 DEBUG [http-nio-8080-exec-2] DispatcherServlet : Completed 404 NOT_FOUND
2019-04-12 13:12:51,817 DEBUG [http-nio-8080-exec-2] DispatcherServlet : "ERROR" dispatch for GET "/error", parameters={}
2019-04-12 13:12:51,822 DEBUG [http-nio-8080-exec-2] RequestMappingHandlerMapping : Mapped to public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-12 13:12:51,835 DEBUG [http-nio-8080-exec-2] HttpEntityMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2019-04-12 13:12:51,836 DEBUG [http-nio-8080-exec-2] HttpEntityMethodProcessor : Writing [{timestamp=Fri Apr 12 13:12:51 ART 2019, status=404, error=Not Found, message=No message available,  (truncated)...]
2019-04-12 13:12:51,847 DEBUG [http-nio-8080-exec-2] DispatcherServlet : Exiting from "ERROR" dispatch, status 404
2019-04-12 13:12:58,249 DEBUG [http-nio-8080-exec-3] DispatcherServlet : GET "/portal", parameters={}
2019-04-12 13:12:58,251 WARN  [http-nio-8080-exec-3] PageNotFound : No mapping for GET /portal
2019-04-12 13:12:58,251 DEBUG [http-nio-8080-exec-3] DispatcherServlet : Completed 404 NOT_FOUND
2019-04-12 13:12:58,252 DEBUG [http-nio-8080-exec-3] DispatcherServlet : "ERROR" dispatch for GET "/error", parameters={}
2019-04-12 13:12:58,253 DEBUG [http-nio-8080-exec-3] RequestMappingHandlerMapping : Mapped to public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2019-04-12 13:12:58,254 DEBUG [http-nio-8080-exec-3] HttpEntityMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2019-04-12 13:12:58,254 DEBUG [http-nio-8080-exec-3] HttpEntityMethodProcessor : Writing [{timestamp=Fri Apr 12 13:12:58 ART 2019, status=404, error=Not Found, message=No message available,  (truncated)...]
2019-04-12 13:12:58,255 DEBUG [http-nio-8080-exec-3] DispatcherServlet : Exiting from "ERROR" dispatch, status 404
2019-04-12 13:13:12,881 DEBUG [http-nio-8080-exec-4] DispatcherServlet : GET "/browser/portal", parameters={}
2019-04-12 13:13:12,882 DEBUG [http-nio-8080-exec-4] RequestMappingHandlerMapping : Mapped to public java.util.Map<cloud.liso.showservice.dto.GenreDto, java.util.List<cloud.liso.showservice.dto.ShowCardDto>> cloud.liso.showservice.controllers.BrowserController.getPortal()
2019-04-12 13:13:12,926 DEBUG [http-nio-8080-exec-4] SQL : 
    select
        showcard0_.id as id1_0_,
        showcard0_.genre_name as genre_na2_0_,
        showcard0_.show_id as show_id3_0_,
        showcard0_.image_url as image_ur4_0_,
        showcard0_.name as name5_0_,
        showcard0_.rating as rating6_0_,
        showcard0_.seasons as seasons7_0_ 
    from
        cards showcard0_
2019-04-12 13:13:12,993 DEBUG [http-nio-8080-exec-4] RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2019-04-12 13:13:12,995 DEBUG [http-nio-8080-exec-4] RequestResponseBodyMethodProcessor : Writing [{Science-Fiction=[ShowCardDto(id=1, name=Under the Dome, image=http://static.tvmaze.com/uploads/imag (truncated)...]
2019-04-12 13:13:13,005 DEBUG [http-nio-8080-exec-4] DispatcherServlet : Completed 200 OK
2019-04-12 13:13:18,918 DEBUG [http-nio-8080-exec-5] DispatcherServlet : GET "/genres/1", parameters={}
2019-04-12 13:13:18,919 DEBUG [http-nio-8080-exec-5] RequestMappingHandlerMapping : Mapped to public org.springframework.data.domain.Page<cloud.liso.showservice.dto.ShowCardDto> cloud.liso.showservice.controllers.GenreController.getGenrePage(int,int,int)
2019-04-12 13:13:18,938 DEBUG [http-nio-8080-exec-5] ExceptionHandlerExceptionResolver : Using @ExceptionHandler public cloud.liso.showservice.exceptions.ErrorMessage cloud.liso.showservice.exceptions.ApiExceptionHandler.fatalErrorUnexpectedException(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2019-04-12 13:13:18,942 DEBUG [http-nio-8080-exec-5] RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2019-04-12 13:13:18,942 DEBUG [http-nio-8080-exec-5] RequestResponseBodyMethodProcessor : Writing [ErrorMessage{exception='InvalidDataAccessApiUsageException', message='Parameter value [1] did not ma (truncated)...]
2019-04-12 13:13:18,943 DEBUG [http-nio-8080-exec-5] ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [1] did not match expected type [java.lang.String (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [1] did not match expected type [java.lang.String (n/a)]]
2019-04-12 13:13:18,943 DEBUG [http-nio-8080-exec-5] DispatcherServlet : Completed 500 INTERNAL_SERVER_ERROR
2019-04-12 13:13:48,863 INFO  [Thread-11] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 13:13:48,865 INFO  [Thread-11] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 13:13:48,868 INFO  [Thread-11] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 13:13:51,528 INFO  [main] ShowServiceApplication : Starting ShowServiceApplication on liso-desktop with PID 2333 (/home/liso/Dropbox/workspaces/java/show-service/out/production/classes started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 13:13:51,530 INFO  [main] ShowServiceApplication : The following profiles are active: dev
2019-04-12 13:13:52,198 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 13:13:52,243 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40ms. Found 5 repository interfaces.
2019-04-12 13:13:52,475 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8fe6bef4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 13:13:52,493 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$f670c26] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 13:13:52,669 INFO  [main] TomcatWebServer : Tomcat initialized with port(s): 8080 (http)
2019-04-12 13:13:52,686 INFO  [main] StandardService : Starting service [Tomcat]
2019-04-12 13:13:52,686 INFO  [main] StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-12 13:13:52,691 INFO  [main] AprLifecycleListener : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-12 13:13:52,752 INFO  [main] [/] : Initializing Spring embedded WebApplicationContext
2019-04-12 13:13:52,752 DEBUG [main] ContextLoader : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
2019-04-12 13:13:52,752 INFO  [main] ContextLoader : Root WebApplicationContext: initialization completed in 1183 ms
2019-04-12 13:13:53,068 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 13:13:53,069 WARN  [main] DriverDataSource : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2019-04-12 13:13:53,287 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 13:13:53,318 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 13:13:53,350 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 13:13:53,351 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 13:13:53,417 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 13:13:53,496 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2019-04-12 13:13:53,967 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 13:13:54,162 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 13:13:54,494 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 13:13:54,526 DEBUG [main] RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2019-04-12 13:13:54,564 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 13:13:54,610 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 13:13:54,690 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 13:13:54,708 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 13:13:54,862 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 13:13:54,870 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 13:13:54,884 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 13:13:54,980 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 13:13:54,981 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 13:13:54,983 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 13:13:55,034 INFO  [main] TomcatWebServer : Tomcat started on port(s): 8080 (http) with context path ''
2019-04-12 13:13:55,035 INFO  [main] ShowServiceApplication : Started ShowServiceApplication in 3.795 seconds (JVM running for 4.125)
2019-04-12 13:13:55,577 INFO  [RMI TCP Connection(2)-127.0.0.1] [/] : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-04-12 13:13:55,577 INFO  [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Initializing Servlet 'dispatcherServlet'
2019-04-12 13:13:55,578 DEBUG [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Detected StandardServletMultipartResolver
2019-04-12 13:13:55,585 DEBUG [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2019-04-12 13:13:55,585 INFO  [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Completed initialization in 7 ms
2019-04-12 13:13:59,217 DEBUG [http-nio-8080-exec-2] DispatcherServlet : GET "/genres/1", parameters={}
2019-04-12 13:13:59,222 DEBUG [http-nio-8080-exec-2] RequestMappingHandlerMapping : Mapped to public org.springframework.data.domain.Page<cloud.liso.showservice.dto.ShowCardDto> cloud.liso.showservice.controllers.GenreController.getGenrePage(int,int,int)
2019-04-12 13:13:59,257 DEBUG [http-nio-8080-exec-2] SQL : 
    select
        show2_.show_id as col_0_0_,
        show2_.name as col_1_0_,
        show2_.image_url as col_2_0_,
        show2_.rating as col_3_0_,
        count(show2_.show_id) as col_4_0_ 
    from
        genres genre0_ 
    inner join
        show_genre shows1_ 
            on genre0_.genre_id=shows1_.genres_genre_id 
    inner join
        shows show2_ 
            on shows1_.shows_show_id=show2_.show_id 
    where
        genre0_.genre_id=? 
    group by
        show2_.show_id 
    order by
        show2_.show_id limit ?,
        ?
2019-04-12 13:13:59,261 TRACE [http-nio-8080-exec-2] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 13:13:59,269 DEBUG [http-nio-8080-exec-2] SQL : 
    select
        count(genre0_.genre_id) as col_0_0_ 
    from
        genres genre0_ 
    inner join
        show_genre shows1_ 
            on genre0_.genre_id=shows1_.genres_genre_id 
    inner join
        shows show2_ 
            on shows1_.shows_show_id=show2_.show_id 
    where
        genre0_.genre_id=? 
    group by
        show2_.show_id
2019-04-12 13:13:59,269 TRACE [http-nio-8080-exec-2] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 13:13:59,282 DEBUG [http-nio-8080-exec-2] RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2019-04-12 13:13:59,283 DEBUG [http-nio-8080-exec-2] RequestResponseBodyMethodProcessor : Writing [Page 2 of 13 containing cloud.liso.showservice.dto.ShowCardDto instances]
2019-04-12 13:13:59,294 DEBUG [http-nio-8080-exec-2] DispatcherServlet : Completed 200 OK
2019-04-12 13:14:18,490 DEBUG [http-nio-8080-exec-3] DispatcherServlet : GET "/genres/1?page=0&size=10", parameters={masked}
2019-04-12 13:14:18,491 DEBUG [http-nio-8080-exec-3] RequestMappingHandlerMapping : Mapped to public org.springframework.data.domain.Page<cloud.liso.showservice.dto.ShowCardDto> cloud.liso.showservice.controllers.GenreController.getGenrePage(int,int,int)
2019-04-12 13:14:18,492 DEBUG [http-nio-8080-exec-3] SQL : 
    select
        show2_.show_id as col_0_0_,
        show2_.name as col_1_0_,
        show2_.image_url as col_2_0_,
        show2_.rating as col_3_0_,
        count(show2_.show_id) as col_4_0_ 
    from
        genres genre0_ 
    inner join
        show_genre shows1_ 
            on genre0_.genre_id=shows1_.genres_genre_id 
    inner join
        shows show2_ 
            on shows1_.shows_show_id=show2_.show_id 
    where
        genre0_.genre_id=? 
    group by
        show2_.show_id 
    order by
        show2_.show_id limit ?
2019-04-12 13:14:18,493 TRACE [http-nio-8080-exec-3] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 13:14:18,496 DEBUG [http-nio-8080-exec-3] SQL : 
    select
        count(genre0_.genre_id) as col_0_0_ 
    from
        genres genre0_ 
    inner join
        show_genre shows1_ 
            on genre0_.genre_id=shows1_.genres_genre_id 
    inner join
        shows show2_ 
            on shows1_.shows_show_id=show2_.show_id 
    where
        genre0_.genre_id=? 
    group by
        show2_.show_id
2019-04-12 13:14:18,497 TRACE [http-nio-8080-exec-3] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 13:14:18,500 DEBUG [http-nio-8080-exec-3] RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2019-04-12 13:14:18,500 DEBUG [http-nio-8080-exec-3] RequestResponseBodyMethodProcessor : Writing [Page 1 of 13 containing cloud.liso.showservice.dto.ShowCardDto instances]
2019-04-12 13:14:18,503 DEBUG [http-nio-8080-exec-3] DispatcherServlet : Completed 200 OK
2019-04-12 13:14:42,396 DEBUG [http-nio-8080-exec-4] DispatcherServlet : GET "/browser/portal", parameters={}
2019-04-12 13:14:42,397 DEBUG [http-nio-8080-exec-4] RequestMappingHandlerMapping : Mapped to public java.util.Map<cloud.liso.showservice.dto.GenreDto, java.util.List<cloud.liso.showservice.dto.ShowCardDto>> cloud.liso.showservice.controllers.BrowserController.getPortal()
2019-04-12 13:14:42,424 DEBUG [http-nio-8080-exec-4] SQL : 
    select
        showcard0_.id as id1_0_,
        showcard0_.genre_name as genre_na2_0_,
        showcard0_.show_id as show_id3_0_,
        showcard0_.image_url as image_ur4_0_,
        showcard0_.name as name5_0_,
        showcard0_.rating as rating6_0_,
        showcard0_.seasons as seasons7_0_ 
    from
        cards showcard0_
2019-04-12 13:14:42,485 DEBUG [http-nio-8080-exec-4] RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2019-04-12 13:14:42,486 DEBUG [http-nio-8080-exec-4] RequestResponseBodyMethodProcessor : Writing [{Science-Fiction=[ShowCardDto(id=1, name=Under the Dome, image=http://static.tvmaze.com/uploads/imag (truncated)...]
2019-04-12 13:14:42,492 DEBUG [http-nio-8080-exec-4] DispatcherServlet : Completed 200 OK
2019-04-12 13:16:46,956 INFO  [Thread-12] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 13:16:46,958 INFO  [Thread-12] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 13:16:46,961 INFO  [Thread-12] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 13:17:37,819 INFO  [main] ShowServiceApplication : Starting ShowServiceApplication on liso-desktop with PID 2610 (/home/liso/Dropbox/workspaces/java/show-service/out/production/classes started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 13:17:37,821 INFO  [main] ShowServiceApplication : The following profiles are active: dev
2019-04-12 13:17:38,548 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 13:17:38,594 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42ms. Found 5 repository interfaces.
2019-04-12 13:17:38,821 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e4862655] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 13:17:38,839 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$64067387] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 13:17:39,011 INFO  [main] TomcatWebServer : Tomcat initialized with port(s): 8080 (http)
2019-04-12 13:17:39,037 INFO  [main] StandardService : Starting service [Tomcat]
2019-04-12 13:17:39,037 INFO  [main] StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-12 13:17:39,041 INFO  [main] AprLifecycleListener : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-12 13:17:39,090 INFO  [main] [/] : Initializing Spring embedded WebApplicationContext
2019-04-12 13:17:39,090 DEBUG [main] ContextLoader : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
2019-04-12 13:17:39,090 INFO  [main] ContextLoader : Root WebApplicationContext: initialization completed in 1235 ms
2019-04-12 13:17:39,411 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 13:17:39,412 WARN  [main] DriverDataSource : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2019-04-12 13:17:39,611 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 13:17:39,637 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 13:17:39,668 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 13:17:39,669 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 13:17:39,730 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 13:17:39,803 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2019-04-12 13:17:40,268 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 13:17:40,450 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 13:17:40,780 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 13:17:40,811 DEBUG [main] RequestMappingHandlerMapping : 10 mappings in 'requestMappingHandlerMapping'
2019-04-12 13:17:40,851 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 13:17:40,900 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 13:17:40,986 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 13:17:41,003 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 13:17:41,147 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 13:17:41,156 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 13:17:41,171 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 13:17:41,269 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 13:17:41,270 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 13:17:41,271 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 13:17:41,321 INFO  [main] TomcatWebServer : Tomcat started on port(s): 8080 (http) with context path ''
2019-04-12 13:17:41,322 INFO  [main] ShowServiceApplication : Started ShowServiceApplication in 3.777 seconds (JVM running for 4.08)
2019-04-12 13:17:41,406 INFO  [RMI TCP Connection(1)-127.0.0.1] [/] : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-04-12 13:17:41,406 INFO  [RMI TCP Connection(1)-127.0.0.1] DispatcherServlet : Initializing Servlet 'dispatcherServlet'
2019-04-12 13:17:41,406 DEBUG [RMI TCP Connection(1)-127.0.0.1] DispatcherServlet : Detected StandardServletMultipartResolver
2019-04-12 13:17:41,412 DEBUG [RMI TCP Connection(1)-127.0.0.1] DispatcherServlet : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2019-04-12 13:17:41,413 INFO  [RMI TCP Connection(1)-127.0.0.1] DispatcherServlet : Completed initialization in 7 ms
2019-04-12 13:17:45,813 DEBUG [http-nio-8080-exec-2] DispatcherServlet : GET "/browser/portal", parameters={}
2019-04-12 13:17:45,820 DEBUG [http-nio-8080-exec-2] RequestMappingHandlerMapping : Mapped to public java.util.Map<cloud.liso.showservice.dto.GenreDto, java.util.List<cloud.liso.showservice.dto.ShowCardDto>> cloud.liso.showservice.controllers.BrowserController.getPortal()
2019-04-12 13:17:45,855 DEBUG [http-nio-8080-exec-2] SQL : 
    select
        showcard0_.id as id1_0_,
        showcard0_.genre_name as genre_na2_0_,
        showcard0_.show_id as show_id3_0_,
        showcard0_.image_url as image_ur4_0_,
        showcard0_.name as name5_0_,
        showcard0_.rating as rating6_0_,
        showcard0_.seasons as seasons7_0_ 
    from
        cards showcard0_
2019-04-12 13:17:45,920 DEBUG [http-nio-8080-exec-2] RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2019-04-12 13:17:45,922 DEBUG [http-nio-8080-exec-2] RequestResponseBodyMethodProcessor : Writing [{Science-Fiction=[ShowCardDto(id=1, name=Under the Dome, image=http://static.tvmaze.com/uploads/imag (truncated)...]
2019-04-12 13:17:45,937 DEBUG [http-nio-8080-exec-2] DispatcherServlet : Completed 200 OK
2019-04-12 13:17:55,052 DEBUG [http-nio-8080-exec-3] DispatcherServlet : GET "/genres/drama?page=0&size=10", parameters={masked}
2019-04-12 13:17:55,054 DEBUG [http-nio-8080-exec-3] RequestMappingHandlerMapping : Mapped to public org.springframework.data.domain.Page<cloud.liso.showservice.dto.ShowCardDto> cloud.liso.showservice.controllers.GenreController.getGenrePage(java.lang.String,int,int)
2019-04-12 13:17:55,072 DEBUG [http-nio-8080-exec-3] SQL : 
    select
        show2_.show_id as col_0_0_,
        show2_.name as col_1_0_,
        show2_.image_url as col_2_0_,
        show2_.rating as col_3_0_,
        count(show2_.show_id) as col_4_0_ 
    from
        genres genre0_ 
    inner join
        show_genre shows1_ 
            on genre0_.genre_id=shows1_.genres_genre_id 
    inner join
        shows show2_ 
            on shows1_.shows_show_id=show2_.show_id 
    where
        genre0_.name=? 
    group by
        show2_.show_id 
    order by
        show2_.show_id limit ?
2019-04-12 13:17:55,074 TRACE [http-nio-8080-exec-3] BasicBinder : binding parameter [1] as [VARCHAR] - [drama]
2019-04-12 13:17:55,078 DEBUG [http-nio-8080-exec-3] SQL : 
    select
        count(genre0_.genre_id) as col_0_0_ 
    from
        genres genre0_ 
    inner join
        show_genre shows1_ 
            on genre0_.genre_id=shows1_.genres_genre_id 
    inner join
        shows show2_ 
            on shows1_.shows_show_id=show2_.show_id 
    where
        genre0_.name=? 
    group by
        show2_.show_id
2019-04-12 13:17:55,079 TRACE [http-nio-8080-exec-3] BasicBinder : binding parameter [1] as [VARCHAR] - [drama]
2019-04-12 13:17:55,084 DEBUG [http-nio-8080-exec-3] RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2019-04-12 13:17:55,085 DEBUG [http-nio-8080-exec-3] RequestResponseBodyMethodProcessor : Writing [Page 1 of 13 containing cloud.liso.showservice.dto.ShowCardDto instances]
2019-04-12 13:17:55,088 DEBUG [http-nio-8080-exec-3] DispatcherServlet : Completed 200 OK
2019-04-12 13:26:15,471 DEBUG [http-nio-8080-exec-6] DispatcherServlet : GET "/shows/1", parameters={}
2019-04-12 13:26:15,473 DEBUG [http-nio-8080-exec-6] RequestMappingHandlerMapping : Mapped to public cloud.liso.showservice.dto.ShowDto cloud.liso.showservice.controllers.ShowController.getShow(int)
2019-04-12 13:26:15,478 DEBUG [http-nio-8080-exec-6] SQL : 
    select
        show0_.show_id as show_id1_8_0_,
        show0_.image_url as image_ur2_8_0_,
        show0_.imdb_url as imdb_url3_8_0_,
        show0_.language as language4_8_0_,
        show0_.last_update as last_upd5_8_0_,
        show0_.name as name6_8_0_,
        show0_.official_site_url as official7_8_0_,
        show0_.premiered as premiere8_8_0_,
        show0_.rating as rating9_8_0_,
        show0_.runtime as runtime10_8_0_,
        show0_.schedule_id as schedul16_8_0_,
        show0_.status as status11_8_0_,
        show0_.summary as summary12_8_0_,
        show0_.tv_maze_url as tv_maze13_8_0_,
        show0_.tvmaze_id as tvmaze_14_8_0_,
        show0_.type as type15_8_0_,
        schedule1_.schedule_id as schedule1_4_1_,
        schedule1_.time_of_show as time_of_2_4_1_ 
    from
        shows show0_ 
    inner join
        schedule schedule1_ 
            on show0_.schedule_id=schedule1_.schedule_id 
    where
        show0_.show_id=?
2019-04-12 13:26:15,479 TRACE [http-nio-8080-exec-6] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 13:26:15,513 DEBUG [http-nio-8080-exec-6] SQL : 
    select
        genres0_.shows_show_id as shows_sh1_7_0_,
        genres0_.genres_genre_id as genres_g2_7_0_,
        genre1_.genre_id as genre_id1_3_1_,
        genre1_.name as name2_3_1_ 
    from
        show_genre genres0_ 
    inner join
        genres genre1_ 
            on genres0_.genres_genre_id=genre1_.genre_id 
    where
        genres0_.shows_show_id=?
2019-04-12 13:26:15,513 TRACE [http-nio-8080-exec-6] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 13:26:15,518 DEBUG [http-nio-8080-exec-6] SQL : 
    select
        days0_.schedule_id as schedule1_5_0_,
        days0_.days_of_week_id as days_of_2_5_0_,
        dayofweek1_.day_of_week_id as day_of_w1_1_1_,
        dayofweek1_.day as day2_1_1_ 
    from
        schedule_days_of_week days0_ 
    inner join
        days_of_week dayofweek1_ 
            on days0_.days_of_week_id=dayofweek1_.day_of_week_id 
    where
        days0_.schedule_id=?
2019-04-12 13:26:15,519 TRACE [http-nio-8080-exec-6] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 13:26:15,531 DEBUG [http-nio-8080-exec-6] RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2019-04-12 13:26:15,531 DEBUG [http-nio-8080-exec-6] RequestResponseBodyMethodProcessor : Writing [ShowDto(id=1, name=Under the Dome, type=Scripted, language=English, genres=[Drama, Science-Fiction,  (truncated)...]
2019-04-12 13:26:15,537 DEBUG [http-nio-8080-exec-6] DispatcherServlet : Completed 200 OK
2019-04-12 15:18:30,229 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 14933 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:18:30,230 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 15:18:30,598 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:18:30,677 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72ms. Found 5 repository interfaces.
2019-04-12 15:18:30,709 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 15:18:30,843 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:ccebc3f5-2048-4f85-8d3f-4611abea52e9;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 15:18:32,587 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:18:32,629 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 15:18:32,631 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 15:18:32,723 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 15:18:32,821 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 15:18:33,450 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:18:33,746 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:18:33,947 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 4.062 seconds (JVM running for 4.896)
2019-04-12 15:18:33,958 INFO  [main] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:18:33,996 INFO  [main] ShowRepositoryIT : Starting ShowRepositoryIT on liso-desktop with PID 14933 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:18:33,997 INFO  [main] ShowRepositoryIT : The following profiles are active: test
2019-04-12 15:18:34,081 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:18:34,097 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16ms. Found 5 repository interfaces.
2019-04-12 15:18:34,106 INFO  [main] TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2019-04-12 15:18:34,125 INFO  [main] EmbeddedDatabaseFactory : Starting embedded database: url='jdbc:h2:mem:db560f21-d0d2-4a52-9f18-c806e76e21e9;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2019-04-12 15:18:35,205 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:18:35,212 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 15:18:35,323 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:18:35,389 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:18:35,463 INFO  [main] ShowRepositoryIT : Started ShowRepositoryIT in 1.501 seconds (JVM running for 6.412)
2019-04-12 15:18:35,477 INFO  [main] TransactionContext : Began transaction (1) for test context [DefaultTestContext@1e178745 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@2d2ffcb7, testMethod = getImdbLink_validShowId_ReturnsImdbLink@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@192c3f1e testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3911c2a7, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@695a42cc, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f7298b, [ImportsContextCustomizer@26b3fd41 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c80d78a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7fa98a66, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2487e20]; rollback [true]
2019-04-12 15:18:35,532 DEBUG [main] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 15:18:35,534 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 15:18:35,581 INFO  [main] TransactionContext : Rolled back transaction for test: [DefaultTestContext@1e178745 testClass = ShowRepositoryIT, testInstance = cloud.liso.showservice.repository.ShowRepositoryIT@2d2ffcb7, testMethod = getImdbLink_validShowId_ReturnsImdbLink@ShowRepositoryIT, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@192c3f1e testClass = ShowRepositoryIT, locations = '{}', classes = '{class cloud.liso.showservice.ShowServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3911c2a7, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@695a42cc, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f7298b, [ImportsContextCustomizer@26b3fd41 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c80d78a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7fa98a66, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]
2019-04-12 15:18:35,587 INFO  [Thread-4] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:44:25,780 INFO  [main] ImdbControllerTest : Starting ImdbControllerTest on liso-desktop with PID 17355 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:44:25,784 INFO  [main] ImdbControllerTest : The following profiles are active: dev
2019-04-12 15:44:25,798 DEBUG [main] GenericWebApplicationContext : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@dbd8e44
2019-04-12 15:44:26,732 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:44:26,804 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66ms. Found 5 repository interfaces.
2019-04-12 15:44:27,335 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f112cdf0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:44:27,387 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$70931b22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:44:27,466 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 15:44:27,468 WARN  [main] DriverDataSource : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2019-04-12 15:44:27,804 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 15:44:27,946 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:44:28,006 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 15:44:28,008 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 15:44:28,134 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 15:44:28,271 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2019-04-12 15:44:28,996 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:44:29,446 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:44:29,976 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 15:44:30,035 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 15:44:30,327 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 15:44:30,454 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 15:44:30,679 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 15:44:30,713 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 15:44:31,299 INFO  [main] SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2019-04-12 15:44:31,300 INFO  [main] TestDispatcherServlet : Initializing Servlet ''
2019-04-12 15:44:31,312 INFO  [main] TestDispatcherServlet : Completed initialization in 12 ms
2019-04-12 15:44:31,355 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 15:44:31,372 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 15:44:31,393 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 15:44:31,523 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 15:44:31,525 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 15:44:31,528 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 15:44:31,596 INFO  [main] ImdbControllerTest : Started ImdbControllerTest in 6.192 seconds (JVM running for 7.007)
2019-04-12 15:44:31,692 DEBUG [main] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 15:44:31,697 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 15:44:38,088 DEBUG [main] RequestMappingHandlerMapping : Mapped to public cloud.liso.showservice.dto.ShowDto cloud.liso.showservice.controllers.ShowController.getShow(int)
2019-04-12 15:44:38,103 DEBUG [main] ServletInvocableHandlerMethod : Could not resolve parameter [0] in public cloud.liso.showservice.dto.ShowDto cloud.liso.showservice.controllers.ShowController.getShow(int): Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "imdb"
2019-04-12 15:44:38,106 DEBUG [main] ExceptionHandlerExceptionResolver : Using @ExceptionHandler public cloud.liso.showservice.exceptions.ErrorMessage cloud.liso.showservice.exceptions.ApiExceptionHandler.fatalErrorUnexpectedException(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2019-04-12 15:44:38,127 DEBUG [main] RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2019-04-12 15:44:38,128 DEBUG [main] RequestResponseBodyMethodProcessor : Writing [ErrorMessage{exception='MethodArgumentTypeMismatchException', message='Failed to convert value of ty (truncated)...]
2019-04-12 15:44:38,138 DEBUG [main] ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "imdb"]
2019-04-12 15:44:38,162 DEBUG [Thread-5] GenericWebApplicationContext : Closing org.springframework.web.context.support.GenericWebApplicationContext@dbd8e44, started on Fri Apr 12 15:44:25 ART 2019
2019-04-12 15:44:38,172 INFO  [Thread-5] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:44:38,174 INFO  [Thread-5] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 15:44:38,179 INFO  [Thread-5] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 15:45:04,977 INFO  [main] ImdbControllerTest : Starting ImdbControllerTest on liso-desktop with PID 17437 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:45:04,979 INFO  [main] ImdbControllerTest : The following profiles are active: dev
2019-04-12 15:45:04,996 DEBUG [main] GenericWebApplicationContext : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@dbd8e44
2019-04-12 15:45:05,891 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:45:05,967 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70ms. Found 5 repository interfaces.
2019-04-12 15:45:06,452 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f112cdf0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:45:06,495 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$70931b22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:45:06,569 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 15:45:06,572 WARN  [main] DriverDataSource : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2019-04-12 15:45:06,910 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 15:45:07,067 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:45:07,138 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 15:45:07,140 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 15:45:07,290 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 15:45:07,424 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2019-04-12 15:45:08,047 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:45:08,465 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:45:08,963 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 15:45:09,024 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 15:45:09,333 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 15:45:09,477 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 15:45:09,738 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 15:45:09,805 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 15:45:10,361 INFO  [main] SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2019-04-12 15:45:10,361 INFO  [main] TestDispatcherServlet : Initializing Servlet ''
2019-04-12 15:45:10,372 INFO  [main] TestDispatcherServlet : Completed initialization in 11 ms
2019-04-12 15:45:10,409 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 15:45:10,425 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 15:45:10,444 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 15:45:10,579 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 15:45:10,581 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 15:45:10,583 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 15:45:10,650 INFO  [main] ImdbControllerTest : Started ImdbControllerTest in 6.092 seconds (JVM running for 6.847)
2019-04-12 15:45:10,747 DEBUG [main] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 15:45:10,753 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 15:45:15,080 DEBUG [main] RequestMappingHandlerMapping : Mapped to public cloud.liso.showservice.dto.ShowDto cloud.liso.showservice.controllers.ShowController.getShow(int)
2019-04-12 15:45:15,095 DEBUG [main] ServletInvocableHandlerMethod : Could not resolve parameter [0] in public cloud.liso.showservice.dto.ShowDto cloud.liso.showservice.controllers.ShowController.getShow(int): Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "imdb"
2019-04-12 15:45:15,097 DEBUG [main] ExceptionHandlerExceptionResolver : Using @ExceptionHandler public cloud.liso.showservice.exceptions.ErrorMessage cloud.liso.showservice.exceptions.ApiExceptionHandler.fatalErrorUnexpectedException(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2019-04-12 15:45:15,116 DEBUG [main] RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2019-04-12 15:45:15,118 DEBUG [main] RequestResponseBodyMethodProcessor : Writing [ErrorMessage{exception='MethodArgumentTypeMismatchException', message='Failed to convert value of ty (truncated)...]
2019-04-12 15:45:15,126 DEBUG [main] ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "imdb"]
2019-04-12 15:45:15,150 DEBUG [Thread-5] GenericWebApplicationContext : Closing org.springframework.web.context.support.GenericWebApplicationContext@dbd8e44, started on Fri Apr 12 15:45:04 ART 2019
2019-04-12 15:45:15,162 INFO  [Thread-5] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:45:15,164 INFO  [Thread-5] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 15:45:15,168 INFO  [Thread-5] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 15:47:44,607 INFO  [main] ImdbControllerTest : Starting ImdbControllerTest on liso-desktop with PID 17597 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:47:44,609 INFO  [main] ImdbControllerTest : The following profiles are active: dev
2019-04-12 15:47:44,623 DEBUG [main] GenericWebApplicationContext : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@dbd8e44
2019-04-12 15:47:45,551 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:47:45,607 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51ms. Found 5 repository interfaces.
2019-04-12 15:47:46,039 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f112cdf0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:47:46,084 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$70931b22] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:47:46,159 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 15:47:46,162 WARN  [main] DriverDataSource : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2019-04-12 15:47:46,471 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 15:47:46,619 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:47:46,674 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 15:47:46,676 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 15:47:46,792 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 15:47:46,903 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2019-04-12 15:47:47,516 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:47:47,962 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:47:48,539 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 15:47:48,629 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 15:47:48,972 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 15:47:49,109 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 15:47:49,307 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 15:47:49,341 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 15:47:49,944 INFO  [main] SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2019-04-12 15:47:49,945 INFO  [main] TestDispatcherServlet : Initializing Servlet ''
2019-04-12 15:47:49,963 INFO  [main] TestDispatcherServlet : Completed initialization in 18 ms
2019-04-12 15:47:50,010 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 15:47:50,029 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 15:47:50,049 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 15:47:50,197 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 15:47:50,199 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 15:47:50,200 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 15:47:50,265 INFO  [main] ImdbControllerTest : Started ImdbControllerTest in 6.072 seconds (JVM running for 6.835)
2019-04-12 15:47:50,354 DEBUG [main] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 15:47:50,359 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 15:47:53,992 WARN  [main] PageNotFound : No mapping for GET shows/imdb
2019-04-12 15:47:54,018 DEBUG [Thread-5] GenericWebApplicationContext : Closing org.springframework.web.context.support.GenericWebApplicationContext@dbd8e44, started on Fri Apr 12 15:47:44 ART 2019
2019-04-12 15:47:54,029 INFO  [Thread-5] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:47:54,031 INFO  [Thread-5] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 15:47:54,035 INFO  [Thread-5] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 15:48:17,628 INFO  [main] ImdbControllerTest : Starting ImdbControllerTest on liso-desktop with PID 17681 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:48:17,629 INFO  [main] ImdbControllerTest : The following profiles are active: test
2019-04-12 15:48:17,640 DEBUG [main] GenericWebApplicationContext : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5b1ebf56
2019-04-12 15:48:18,504 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:48:18,573 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63ms. Found 5 repository interfaces.
2019-04-12 15:48:19,032 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$10be45d9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:48:19,074 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$903e930b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:48:19,158 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 15:48:19,271 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 15:48:20,780 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:48:20,826 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 15:48:20,827 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 15:48:20,926 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 15:48:21,020 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 15:48:21,695 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:48:22,245 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:48:22,728 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 15:48:22,806 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 15:48:23,104 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 15:48:23,251 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 15:48:23,473 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 15:48:23,512 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 15:48:24,036 INFO  [main] SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2019-04-12 15:48:24,036 INFO  [main] TestDispatcherServlet : Initializing Servlet ''
2019-04-12 15:48:24,051 INFO  [main] TestDispatcherServlet : Completed initialization in 15 ms
2019-04-12 15:48:24,095 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 15:48:24,114 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 15:48:24,134 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 15:48:24,268 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 15:48:24,270 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 15:48:24,272 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 15:48:24,337 INFO  [main] ImdbControllerTest : Started ImdbControllerTest in 7.075 seconds (JVM running for 7.872)
2019-04-12 15:48:24,450 DEBUG [main] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 15:48:24,455 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 15:48:27,741 WARN  [main] PageNotFound : No mapping for GET shows/imdb
2019-04-12 15:48:27,770 DEBUG [Thread-6] GenericWebApplicationContext : Closing org.springframework.web.context.support.GenericWebApplicationContext@5b1ebf56, started on Fri Apr 12 15:48:17 ART 2019
2019-04-12 15:48:27,781 INFO  [Thread-6] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:48:27,783 INFO  [Thread-6] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 15:48:27,786 INFO  [Thread-6] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 15:49:43,622 INFO  [Thread-11] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:49:43,624 INFO  [Thread-11] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 15:49:43,630 INFO  [Thread-11] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 15:49:45,574 INFO  [main] ShowServiceApplication : Starting ShowServiceApplication on liso-desktop with PID 17788 (/home/liso/Dropbox/workspaces/java/show-service/out/production/classes started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:49:45,576 INFO  [main] ShowServiceApplication : The following profiles are active: dev
2019-04-12 15:49:46,374 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:49:46,424 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46ms. Found 5 repository interfaces.
2019-04-12 15:49:46,666 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f1b17685] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:49:46,684 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$7131c3b7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:49:46,884 INFO  [main] TomcatWebServer : Tomcat initialized with port(s): 8080 (http)
2019-04-12 15:49:46,900 INFO  [main] StandardService : Starting service [Tomcat]
2019-04-12 15:49:46,901 INFO  [main] StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-12 15:49:46,905 INFO  [main] AprLifecycleListener : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-12 15:49:46,955 INFO  [main] [/] : Initializing Spring embedded WebApplicationContext
2019-04-12 15:49:46,955 DEBUG [main] ContextLoader : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
2019-04-12 15:49:46,955 INFO  [main] ContextLoader : Root WebApplicationContext: initialization completed in 1347 ms
2019-04-12 15:49:47,298 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 15:49:47,298 WARN  [main] DriverDataSource : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2019-04-12 15:49:47,509 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 15:49:47,537 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:49:47,569 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 15:49:47,570 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 15:49:47,636 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 15:49:47,733 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2019-04-12 15:49:48,218 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:49:48,420 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:49:48,731 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 15:49:48,765 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 15:49:48,806 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 15:49:48,852 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 15:49:48,934 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 15:49:48,950 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 15:49:49,097 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 15:49:49,106 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 15:49:49,122 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 15:49:49,238 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 15:49:49,240 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 15:49:49,241 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 15:49:49,294 INFO  [main] TomcatWebServer : Tomcat started on port(s): 8080 (http) with context path ''
2019-04-12 15:49:49,296 INFO  [main] ShowServiceApplication : Started ShowServiceApplication in 4.027 seconds (JVM running for 4.466)
2019-04-12 15:49:49,729 INFO  [RMI TCP Connection(2)-127.0.0.1] [/] : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-04-12 15:49:49,729 INFO  [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Initializing Servlet 'dispatcherServlet'
2019-04-12 15:49:49,729 DEBUG [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Detected StandardServletMultipartResolver
2019-04-12 15:49:49,735 DEBUG [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2019-04-12 15:49:49,735 INFO  [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Completed initialization in 6 ms
2019-04-12 15:50:04,809 DEBUG [http-nio-8080-exec-1] DispatcherServlet : GET "/shows/imdb/1", parameters={}
2019-04-12 15:50:04,816 DEBUG [http-nio-8080-exec-1] RequestMappingHandlerMapping : Mapped to public java.lang.String cloud.liso.showservice.controllers.ImdbController.getImdbUrl(int)
2019-04-12 15:50:04,845 DEBUG [http-nio-8080-exec-1] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 15:50:04,848 TRACE [http-nio-8080-exec-1] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 15:50:08,915 DEBUG [http-nio-8080-exec-1] RequestResponseBodyMethodProcessor : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2019-04-12 15:50:08,915 DEBUG [http-nio-8080-exec-1] RequestResponseBodyMethodProcessor : Writing ["https://www.imdb.com/title/tt1553656/videoplayer/vi3897206297"]
2019-04-12 15:50:08,920 DEBUG [http-nio-8080-exec-1] DispatcherServlet : Completed 200 OK
2019-04-12 15:50:37,463 DEBUG [http-nio-8080-exec-3] DispatcherServlet : GET "/shows/imdb/1", parameters={}
2019-04-12 15:50:37,464 DEBUG [http-nio-8080-exec-3] RequestMappingHandlerMapping : Mapped to public java.lang.String cloud.liso.showservice.controllers.ImdbController.getImdbUrl(int)
2019-04-12 15:50:37,465 DEBUG [http-nio-8080-exec-3] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 15:50:37,466 TRACE [http-nio-8080-exec-3] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 15:50:40,788 DEBUG [http-nio-8080-exec-3] RequestResponseBodyMethodProcessor : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2019-04-12 15:50:40,789 DEBUG [http-nio-8080-exec-3] RequestResponseBodyMethodProcessor : Writing ["https://www.imdb.com/title/tt1553656/videoplayer/vi3897206297"]
2019-04-12 15:50:40,790 DEBUG [http-nio-8080-exec-3] DispatcherServlet : Completed 200 OK
2019-04-12 15:51:04,598 INFO  [Thread-12] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:51:04,601 INFO  [Thread-12] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 15:51:04,604 INFO  [Thread-12] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 15:51:06,486 INFO  [main] ShowServiceApplication : Starting ShowServiceApplication on liso-desktop with PID 18160 (/home/liso/Dropbox/workspaces/java/show-service/out/production/classes started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:51:06,488 INFO  [main] ShowServiceApplication : The following profiles are active: dev
2019-04-12 15:51:07,232 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:51:07,275 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40ms. Found 5 repository interfaces.
2019-04-12 15:51:07,509 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ffb7e7b3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:51:07,527 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$7f3834e5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:51:07,711 INFO  [main] TomcatWebServer : Tomcat initialized with port(s): 8080 (http)
2019-04-12 15:51:07,725 INFO  [main] StandardService : Starting service [Tomcat]
2019-04-12 15:51:07,725 INFO  [main] StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-12 15:51:07,729 INFO  [main] AprLifecycleListener : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-12 15:51:07,780 INFO  [main] [/] : Initializing Spring embedded WebApplicationContext
2019-04-12 15:51:07,780 DEBUG [main] ContextLoader : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
2019-04-12 15:51:07,780 INFO  [main] ContextLoader : Root WebApplicationContext: initialization completed in 1262 ms
2019-04-12 15:51:08,104 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 15:51:08,104 WARN  [main] DriverDataSource : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2019-04-12 15:51:08,308 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 15:51:08,335 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:51:08,370 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 15:51:08,371 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 15:51:08,436 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 15:51:08,516 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2019-04-12 15:51:09,032 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:51:09,219 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:51:09,561 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 15:51:09,594 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 15:51:09,633 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 15:51:09,680 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 15:51:09,762 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 15:51:09,779 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 15:51:09,934 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 15:51:09,943 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 15:51:09,957 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 15:51:10,058 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 15:51:10,059 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 15:51:10,061 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 15:51:10,109 INFO  [main] TomcatWebServer : Tomcat started on port(s): 8080 (http) with context path ''
2019-04-12 15:51:10,111 INFO  [main] ShowServiceApplication : Started ShowServiceApplication in 3.921 seconds (JVM running for 4.3)
2019-04-12 15:51:10,548 INFO  [RMI TCP Connection(3)-127.0.0.1] [/] : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-04-12 15:51:10,549 INFO  [RMI TCP Connection(3)-127.0.0.1] DispatcherServlet : Initializing Servlet 'dispatcherServlet'
2019-04-12 15:51:10,549 DEBUG [RMI TCP Connection(3)-127.0.0.1] DispatcherServlet : Detected StandardServletMultipartResolver
2019-04-12 15:51:10,556 DEBUG [RMI TCP Connection(3)-127.0.0.1] DispatcherServlet : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2019-04-12 15:51:10,557 INFO  [RMI TCP Connection(3)-127.0.0.1] DispatcherServlet : Completed initialization in 8 ms
2019-04-12 15:51:21,279 INFO  [main] ImdbControllerTest : Starting ImdbControllerTest on liso-desktop with PID 18321 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:51:21,281 INFO  [main] ImdbControllerTest : The following profiles are active: test
2019-04-12 15:51:21,292 DEBUG [main] GenericWebApplicationContext : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5b1ebf56
2019-04-12 15:51:22,265 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:51:22,339 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66ms. Found 5 repository interfaces.
2019-04-12 15:51:22,822 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3c9342ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:51:22,866 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$bc139021] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:51:22,960 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 15:51:23,093 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 15:51:24,522 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:51:24,569 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 15:51:24,570 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 15:51:24,681 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 15:51:24,802 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 15:51:25,510 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:51:26,031 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:51:26,540 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 15:51:26,603 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 15:51:26,924 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 15:51:27,057 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 15:51:27,256 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 15:51:27,294 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 15:51:27,939 INFO  [main] SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2019-04-12 15:51:27,939 INFO  [main] TestDispatcherServlet : Initializing Servlet ''
2019-04-12 15:51:27,954 INFO  [main] TestDispatcherServlet : Completed initialization in 15 ms
2019-04-12 15:51:28,002 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 15:51:28,023 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 15:51:28,047 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 15:51:28,172 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 15:51:28,173 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 15:51:28,175 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 15:51:28,247 INFO  [main] ImdbControllerTest : Started ImdbControllerTest in 7.315 seconds (JVM running for 8.125)
2019-04-12 15:51:28,331 WARN  [main] PageNotFound : No mapping for GET shows/imdb
2019-04-12 15:51:28,360 DEBUG [Thread-6] GenericWebApplicationContext : Closing org.springframework.web.context.support.GenericWebApplicationContext@5b1ebf56, started on Fri Apr 12 15:51:21 ART 2019
2019-04-12 15:51:28,369 INFO  [Thread-6] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:51:28,372 INFO  [Thread-6] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 15:51:28,374 INFO  [Thread-6] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 15:52:18,282 INFO  [main] ImdbControllerTest : Starting ImdbControllerTest on liso-desktop with PID 18421 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:52:18,285 INFO  [main] ImdbControllerTest : The following profiles are active: test
2019-04-12 15:52:18,299 DEBUG [main] GenericWebApplicationContext : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5b1ebf56
2019-04-12 15:52:19,219 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:52:19,305 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78ms. Found 5 repository interfaces.
2019-04-12 15:52:19,772 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3c9342ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:52:19,823 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$bc139021] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:52:19,918 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 15:52:20,056 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 15:52:21,553 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:52:21,599 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 15:52:21,601 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 15:52:21,710 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 15:52:21,811 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 15:52:22,480 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:52:22,928 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:52:23,493 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 15:52:23,559 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 15:52:23,839 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 15:52:23,978 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 15:52:24,176 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 15:52:24,210 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 15:52:24,735 INFO  [main] SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2019-04-12 15:52:24,735 INFO  [main] TestDispatcherServlet : Initializing Servlet ''
2019-04-12 15:52:24,753 INFO  [main] TestDispatcherServlet : Completed initialization in 17 ms
2019-04-12 15:52:24,812 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 15:52:24,834 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 15:52:24,857 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 15:52:25,013 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 15:52:25,015 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 15:52:25,017 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 15:52:25,071 INFO  [main] ImdbControllerTest : Started ImdbControllerTest in 7.2 seconds (JVM running for 8.032)
2019-04-12 15:52:25,130 DEBUG [main] RequestMappingHandlerMapping : Mapped to public cloud.liso.showservice.dto.ShowDto cloud.liso.showservice.controllers.ShowController.getShow(int)
2019-04-12 15:52:25,141 DEBUG [main] ServletInvocableHandlerMethod : Could not resolve parameter [0] in public cloud.liso.showservice.dto.ShowDto cloud.liso.showservice.controllers.ShowController.getShow(int): Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "imdb"
2019-04-12 15:52:25,143 DEBUG [main] ExceptionHandlerExceptionResolver : Using @ExceptionHandler public cloud.liso.showservice.exceptions.ErrorMessage cloud.liso.showservice.exceptions.ApiExceptionHandler.fatalErrorUnexpectedException(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2019-04-12 15:52:25,161 DEBUG [main] RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2019-04-12 15:52:25,162 DEBUG [main] RequestResponseBodyMethodProcessor : Writing [ErrorMessage{exception='MethodArgumentTypeMismatchException', message='Failed to convert value of ty (truncated)...]
2019-04-12 15:52:25,171 DEBUG [main] ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'int'; nested exception is java.lang.NumberFormatException: For input string: "imdb"]
2019-04-12 15:52:25,191 DEBUG [Thread-6] GenericWebApplicationContext : Closing org.springframework.web.context.support.GenericWebApplicationContext@5b1ebf56, started on Fri Apr 12 15:52:18 ART 2019
2019-04-12 15:52:25,200 INFO  [Thread-6] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:52:25,202 INFO  [Thread-6] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 15:52:25,203 INFO  [Thread-6] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 15:54:04,586 INFO  [main] ImdbControllerTest : Starting ImdbControllerTest on liso-desktop with PID 18838 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:54:04,587 INFO  [main] ImdbControllerTest : The following profiles are active: test
2019-04-12 15:54:04,601 DEBUG [main] GenericWebApplicationContext : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5b1ebf56
2019-04-12 15:54:05,512 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:54:05,581 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63ms. Found 5 repository interfaces.
2019-04-12 15:54:06,086 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3c9342ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:54:06,131 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$bc139021] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:54:06,214 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 15:54:06,337 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 15:54:07,721 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:54:07,762 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 15:54:07,764 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 15:54:07,881 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 15:54:08,034 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 15:54:08,685 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:54:09,172 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:54:09,706 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 15:54:09,779 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 15:54:10,095 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 15:54:10,230 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 15:54:10,457 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 15:54:10,500 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 15:54:11,078 INFO  [main] SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2019-04-12 15:54:11,078 INFO  [main] TestDispatcherServlet : Initializing Servlet ''
2019-04-12 15:54:11,110 INFO  [main] TestDispatcherServlet : Completed initialization in 32 ms
2019-04-12 15:54:11,145 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 15:54:11,162 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 15:54:11,183 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 15:54:11,313 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 15:54:11,315 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 15:54:11,318 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 15:54:11,374 INFO  [main] ImdbControllerTest : Started ImdbControllerTest in 7.132 seconds (JVM running for 7.97)
2019-04-12 15:54:11,437 DEBUG [main] RequestMappingHandlerMapping : Mapped to public java.lang.String cloud.liso.showservice.controllers.ImdbController.getImdbUrl(int)
2019-04-12 15:54:11,466 DEBUG [main] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 15:54:11,470 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 15:54:14,664 DEBUG [main] RequestResponseBodyMethodProcessor : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2019-04-12 15:54:14,665 DEBUG [main] RequestResponseBodyMethodProcessor : Writing ["https://www.imdb.com/title/tt1553656/videoplayer/vi3897206297"]
2019-04-12 15:54:14,693 DEBUG [Thread-6] GenericWebApplicationContext : Closing org.springframework.web.context.support.GenericWebApplicationContext@5b1ebf56, started on Fri Apr 12 15:54:04 ART 2019
2019-04-12 15:54:14,705 INFO  [Thread-6] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:54:14,707 INFO  [Thread-6] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 15:54:14,709 INFO  [Thread-6] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 15:56:49,158 INFO  [main] ImdbControllerTest : Starting ImdbControllerTest on liso-desktop with PID 19089 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:56:49,160 INFO  [main] ImdbControllerTest : The following profiles are active: test
2019-04-12 15:56:49,173 DEBUG [main] GenericWebApplicationContext : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5b1ebf56
2019-04-12 15:56:50,057 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:56:50,130 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67ms. Found 5 repository interfaces.
2019-04-12 15:56:50,552 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$10be45d9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:56:50,597 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$903e930b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:56:50,670 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 15:56:50,817 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 15:56:52,464 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:56:52,509 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 15:56:52,511 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 15:56:52,624 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 15:56:52,740 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 15:56:53,426 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:56:53,908 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:56:54,400 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 15:56:54,456 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 15:56:54,770 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 15:56:54,899 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 15:56:55,061 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 15:56:55,089 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 15:56:55,557 INFO  [main] SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2019-04-12 15:56:55,557 INFO  [main] TestDispatcherServlet : Initializing Servlet ''
2019-04-12 15:56:55,570 INFO  [main] TestDispatcherServlet : Completed initialization in 13 ms
2019-04-12 15:56:55,607 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 15:56:55,622 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 15:56:55,639 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 15:56:55,763 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 15:56:55,765 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 15:56:55,767 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 15:56:55,835 INFO  [main] ImdbControllerTest : Started ImdbControllerTest in 7.118 seconds (JVM running for 7.945)
2019-04-12 15:56:55,917 DEBUG [main] RequestMappingHandlerMapping : Mapped to public java.lang.String cloud.liso.showservice.controllers.ImdbController.getImdbUrl(int)
2019-04-12 15:56:55,947 DEBUG [main] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 15:56:55,951 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 15:57:00,841 DEBUG [main] RequestResponseBodyMethodProcessor : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2019-04-12 15:57:00,841 DEBUG [main] RequestResponseBodyMethodProcessor : Writing ["https://www.imdb.com/title/tt1553656/videoplayer/vi3897206297"]
2019-04-12 15:57:00,869 DEBUG [Thread-6] GenericWebApplicationContext : Closing org.springframework.web.context.support.GenericWebApplicationContext@5b1ebf56, started on Fri Apr 12 15:56:49 ART 2019
2019-04-12 15:57:00,916 INFO  [Thread-6] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:57:00,919 INFO  [Thread-6] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 15:57:00,923 INFO  [Thread-6] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 15:57:36,179 INFO  [main] ImdbControllerTest : Starting ImdbControllerTest on liso-desktop with PID 19166 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:57:36,185 INFO  [main] ImdbControllerTest : The following profiles are active: test
2019-04-12 15:57:36,196 DEBUG [main] GenericWebApplicationContext : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5b1ebf56
2019-04-12 15:57:37,171 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:57:37,231 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54ms. Found 5 repository interfaces.
2019-04-12 15:57:37,634 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3c9342ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:57:37,675 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$bc139021] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:57:37,746 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 15:57:37,857 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 15:57:39,468 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:57:39,516 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 15:57:39,518 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 15:57:39,621 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 15:57:39,793 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 15:57:40,425 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:57:40,933 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:57:41,442 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 15:57:41,511 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 15:57:41,857 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 15:57:42,012 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 15:57:42,205 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 15:57:42,244 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 15:57:42,799 INFO  [main] SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2019-04-12 15:57:42,799 INFO  [main] TestDispatcherServlet : Initializing Servlet ''
2019-04-12 15:57:42,815 INFO  [main] TestDispatcherServlet : Completed initialization in 16 ms
2019-04-12 15:57:42,852 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 15:57:42,869 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 15:57:42,889 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 15:57:43,018 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 15:57:43,020 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 15:57:43,021 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 15:57:43,087 INFO  [main] ImdbControllerTest : Started ImdbControllerTest in 7.279 seconds (JVM running for 8.041)
2019-04-12 15:57:43,150 DEBUG [main] RequestMappingHandlerMapping : Mapped to public java.lang.String cloud.liso.showservice.controllers.ImdbController.getImdbUrl(int)
2019-04-12 15:57:43,178 DEBUG [main] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 15:57:43,182 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 15:57:46,605 DEBUG [main] RequestResponseBodyMethodProcessor : Using 'application/json;charset=UTF-8', given [*/*] and supported [application/json;charset=UTF-8]
2019-04-12 15:57:46,606 DEBUG [main] RequestResponseBodyMethodProcessor : Writing ["https://www.imdb.com/title/tt1553656/videoplayer/vi3897206297"]
2019-04-12 15:57:46,651 DEBUG [Thread-6] GenericWebApplicationContext : Closing org.springframework.web.context.support.GenericWebApplicationContext@5b1ebf56, started on Fri Apr 12 15:57:36 ART 2019
2019-04-12 15:57:46,661 INFO  [Thread-6] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:57:46,662 INFO  [Thread-6] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 15:57:46,665 INFO  [Thread-6] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 15:58:24,581 INFO  [main] ImdbControllerTest : Starting ImdbControllerTest on liso-desktop with PID 19269 (started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:58:24,582 INFO  [main] ImdbControllerTest : The following profiles are active: test
2019-04-12 15:58:24,594 DEBUG [main] GenericWebApplicationContext : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@71c27ee8
2019-04-12 15:58:25,495 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:58:25,557 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56ms. Found 5 repository interfaces.
2019-04-12 15:58:25,995 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$837b627e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:58:26,040 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$2fbafb0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:58:26,117 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 15:58:26,236 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 15:58:27,926 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:58:27,975 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 15:58:27,976 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 15:58:28,074 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 15:58:28,177 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2019-04-12 15:58:28,831 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:58:29,127 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:58:29,677 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 15:58:29,745 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 15:58:30,040 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 15:58:30,169 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 15:58:30,405 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 15:58:30,437 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 15:58:30,998 INFO  [main] SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2019-04-12 15:58:30,998 INFO  [main] TestDispatcherServlet : Initializing Servlet ''
2019-04-12 15:58:31,010 INFO  [main] TestDispatcherServlet : Completed initialization in 12 ms
2019-04-12 15:58:31,048 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 15:58:31,204 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 15:58:31,225 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 15:58:31,360 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 15:58:31,362 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 15:58:31,363 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 15:58:31,426 INFO  [main] ImdbControllerTest : Started ImdbControllerTest in 7.314 seconds (JVM running for 8.111)
2019-04-12 15:58:31,495 DEBUG [main] RequestMappingHandlerMapping : Mapped to public java.lang.String cloud.liso.showservice.controllers.ImdbController.getImdbUrl(int)
2019-04-12 15:58:31,525 DEBUG [main] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 15:58:31,530 TRACE [main] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 15:58:36,527 DEBUG [main] RequestResponseBodyMethodProcessor : Using 'application/json;charset=UTF-8', given [*/*] and supported [application/json;charset=UTF-8]
2019-04-12 15:58:36,527 DEBUG [main] RequestResponseBodyMethodProcessor : Writing ["https://www.imdb.com/title/tt1553656/videoplayer/vi3897206297"]
2019-04-12 15:58:36,558 DEBUG [Thread-6] GenericWebApplicationContext : Closing org.springframework.web.context.support.GenericWebApplicationContext@71c27ee8, started on Fri Apr 12 15:58:24 ART 2019
2019-04-12 15:58:36,569 INFO  [Thread-6] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:58:36,570 INFO  [Thread-6] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 15:58:36,572 INFO  [Thread-6] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 15:58:48,881 INFO  [Thread-12] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:58:48,883 INFO  [Thread-12] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 15:58:48,886 INFO  [Thread-12] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 15:58:50,863 INFO  [main] ShowServiceApplication : Starting ShowServiceApplication on liso-desktop with PID 19342 (/home/liso/Dropbox/workspaces/java/show-service/out/production/classes started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 15:58:50,866 INFO  [main] ShowServiceApplication : The following profiles are active: dev
2019-04-12 15:58:51,726 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 15:58:51,782 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51ms. Found 5 repository interfaces.
2019-04-12 15:58:52,033 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d2cc747f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:58:52,060 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$524cc1b1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 15:58:52,263 INFO  [main] TomcatWebServer : Tomcat initialized with port(s): 8080 (http)
2019-04-12 15:58:52,279 INFO  [main] StandardService : Starting service [Tomcat]
2019-04-12 15:58:52,279 INFO  [main] StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-12 15:58:52,284 INFO  [main] AprLifecycleListener : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-12 15:58:52,337 INFO  [main] [/] : Initializing Spring embedded WebApplicationContext
2019-04-12 15:58:52,337 DEBUG [main] ContextLoader : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
2019-04-12 15:58:52,337 INFO  [main] ContextLoader : Root WebApplicationContext: initialization completed in 1442 ms
2019-04-12 15:58:52,728 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 15:58:52,728 WARN  [main] DriverDataSource : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2019-04-12 15:58:52,946 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 15:58:52,975 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 15:58:53,007 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 15:58:53,008 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 15:58:53,074 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 15:58:53,170 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2019-04-12 15:58:53,621 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 15:58:53,815 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 15:58:54,124 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 15:58:54,157 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 15:58:54,197 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 15:58:54,244 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 15:58:54,334 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 15:58:54,351 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 15:58:54,496 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 15:58:54,505 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 15:58:54,520 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 15:58:54,618 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 15:58:54,619 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 15:58:54,620 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 15:58:54,670 INFO  [main] TomcatWebServer : Tomcat started on port(s): 8080 (http) with context path ''
2019-04-12 15:58:54,671 INFO  [main] ShowServiceApplication : Started ShowServiceApplication in 4.125 seconds (JVM running for 4.522)
2019-04-12 15:58:55,090 INFO  [RMI TCP Connection(3)-127.0.0.1] [/] : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-04-12 15:58:55,091 INFO  [RMI TCP Connection(3)-127.0.0.1] DispatcherServlet : Initializing Servlet 'dispatcherServlet'
2019-04-12 15:58:55,091 DEBUG [RMI TCP Connection(3)-127.0.0.1] DispatcherServlet : Detected StandardServletMultipartResolver
2019-04-12 15:58:55,098 DEBUG [RMI TCP Connection(3)-127.0.0.1] DispatcherServlet : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2019-04-12 15:58:55,098 INFO  [RMI TCP Connection(3)-127.0.0.1] DispatcherServlet : Completed initialization in 7 ms
2019-04-12 15:58:56,690 DEBUG [http-nio-8080-exec-2] DispatcherServlet : GET "/shows/imdb/1", parameters={}
2019-04-12 15:58:56,695 DEBUG [http-nio-8080-exec-2] RequestMappingHandlerMapping : Mapped to public java.lang.String cloud.liso.showservice.controllers.ImdbController.getImdbUrl(int)
2019-04-12 15:58:56,720 DEBUG [http-nio-8080-exec-2] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 15:58:56,724 TRACE [http-nio-8080-exec-2] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 15:58:59,552 DEBUG [http-nio-8080-exec-2] RequestResponseBodyMethodProcessor : Using 'application/json;charset=UTF-8', given [*/*] and supported [application/json;charset=UTF-8]
2019-04-12 15:58:59,552 DEBUG [http-nio-8080-exec-2] RequestResponseBodyMethodProcessor : Writing ["https://www.imdb.com/title/tt1553656/videoplayer/vi3897206297"]
2019-04-12 15:58:59,556 DEBUG [http-nio-8080-exec-2] DispatcherServlet : Completed 200 OK
2019-04-12 16:00:25,860 INFO  [Thread-12] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 16:00:25,862 INFO  [Thread-12] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 16:00:25,866 INFO  [Thread-12] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 16:00:28,491 INFO  [main] ShowServiceApplication : Starting ShowServiceApplication on liso-desktop with PID 19748 (/home/liso/Dropbox/workspaces/java/show-service/out/production/classes started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 16:00:28,494 INFO  [main] ShowServiceApplication : The following profiles are active: dev
2019-04-12 16:00:29,319 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 16:00:29,377 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54ms. Found 5 repository interfaces.
2019-04-12 16:00:29,635 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1aad1af8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 16:00:29,654 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$9a2d682a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 16:00:29,827 INFO  [main] TomcatWebServer : Tomcat initialized with port(s): 8080 (http)
2019-04-12 16:00:29,842 INFO  [main] StandardService : Starting service [Tomcat]
2019-04-12 16:00:29,843 INFO  [main] StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-12 16:00:29,847 INFO  [main] AprLifecycleListener : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-12 16:00:29,895 INFO  [main] [/] : Initializing Spring embedded WebApplicationContext
2019-04-12 16:00:29,895 DEBUG [main] ContextLoader : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
2019-04-12 16:00:29,895 INFO  [main] ContextLoader : Root WebApplicationContext: initialization completed in 1372 ms
2019-04-12 16:00:30,211 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 16:00:30,211 WARN  [main] DriverDataSource : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2019-04-12 16:00:30,413 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 16:00:30,440 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 16:00:30,471 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 16:00:30,471 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 16:00:30,532 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 16:00:30,613 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2019-04-12 16:00:31,062 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 16:00:31,265 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 16:00:31,628 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 16:00:31,662 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 16:00:31,704 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 16:00:31,751 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 16:00:31,836 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 16:00:31,852 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 16:00:32,002 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 16:00:32,011 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 16:00:32,025 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 16:00:32,127 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 16:00:32,129 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 16:00:32,130 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 16:00:32,179 INFO  [main] TomcatWebServer : Tomcat started on port(s): 8080 (http) with context path ''
2019-04-12 16:00:32,180 INFO  [main] ShowServiceApplication : Started ShowServiceApplication in 3.98 seconds (JVM running for 4.335)
2019-04-12 16:00:32,562 INFO  [RMI TCP Connection(2)-127.0.0.1] [/] : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-04-12 16:00:32,562 INFO  [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Initializing Servlet 'dispatcherServlet'
2019-04-12 16:00:32,562 DEBUG [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Detected StandardServletMultipartResolver
2019-04-12 16:00:32,568 DEBUG [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2019-04-12 16:00:32,568 INFO  [RMI TCP Connection(2)-127.0.0.1] DispatcherServlet : Completed initialization in 6 ms
2019-04-12 16:00:35,469 DEBUG [http-nio-8080-exec-2] DispatcherServlet : GET "/shows/imdb/1", parameters={}
2019-04-12 16:00:35,474 DEBUG [http-nio-8080-exec-2] RequestMappingHandlerMapping : Mapped to public java.lang.String cloud.liso.showservice.controllers.ImdbController.getImdbUrl(int)
2019-04-12 16:00:35,502 DEBUG [http-nio-8080-exec-2] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 16:00:35,506 TRACE [http-nio-8080-exec-2] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 16:00:38,316 DEBUG [http-nio-8080-exec-2] RequestResponseBodyMethodProcessor : Using 'application/json;charset=UTF-8', given [*/*] and supported [application/json;charset=UTF-8]
2019-04-12 16:00:38,316 DEBUG [http-nio-8080-exec-2] RequestResponseBodyMethodProcessor : Writing ["https://www.imdb.com/title/tt1553656/videoplayer/vi3897206297"]
2019-04-12 16:00:38,321 DEBUG [http-nio-8080-exec-2] DispatcherServlet : Completed 200 OK
2019-04-12 16:00:39,429 DEBUG [http-nio-8080-exec-3] DispatcherServlet : GET "/shows/imdb/1", parameters={}
2019-04-12 16:00:39,431 DEBUG [http-nio-8080-exec-3] RequestMappingHandlerMapping : Mapped to public java.lang.String cloud.liso.showservice.controllers.ImdbController.getImdbUrl(int)
2019-04-12 16:00:39,432 DEBUG [http-nio-8080-exec-3] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 16:00:39,433 TRACE [http-nio-8080-exec-3] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 16:00:42,127 DEBUG [http-nio-8080-exec-3] RequestResponseBodyMethodProcessor : Using 'application/json;charset=UTF-8', given [*/*] and supported [application/json;charset=UTF-8]
2019-04-12 16:00:42,128 DEBUG [http-nio-8080-exec-3] RequestResponseBodyMethodProcessor : Writing ["https://www.imdb.com/title/tt1553656/videoplayer/vi3897206297"]
2019-04-12 16:00:42,129 DEBUG [http-nio-8080-exec-3] DispatcherServlet : Completed 200 OK
2019-04-12 16:00:43,321 DEBUG [http-nio-8080-exec-4] DispatcherServlet : GET "/shows/imdb/1", parameters={}
2019-04-12 16:00:43,323 DEBUG [http-nio-8080-exec-4] RequestMappingHandlerMapping : Mapped to public java.lang.String cloud.liso.showservice.controllers.ImdbController.getImdbUrl(int)
2019-04-12 16:00:43,324 DEBUG [http-nio-8080-exec-4] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 16:00:43,325 TRACE [http-nio-8080-exec-4] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 16:00:46,485 DEBUG [http-nio-8080-exec-4] RequestResponseBodyMethodProcessor : Using 'application/json;charset=UTF-8', given [*/*] and supported [application/json;charset=UTF-8]
2019-04-12 16:00:46,485 DEBUG [http-nio-8080-exec-4] RequestResponseBodyMethodProcessor : Writing ["https://www.imdb.com/title/tt1553656/videoplayer/vi3897206297"]
2019-04-12 16:00:46,486 DEBUG [http-nio-8080-exec-4] DispatcherServlet : Completed 200 OK
2019-04-12 16:01:05,373 INFO  [Thread-12] LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 16:01:05,375 INFO  [Thread-12] HikariDataSource : HikariPool-1 - Shutdown initiated...
2019-04-12 16:01:05,378 INFO  [Thread-12] HikariDataSource : HikariPool-1 - Shutdown completed.
2019-04-12 16:01:07,868 INFO  [main] ShowServiceApplication : Starting ShowServiceApplication on liso-desktop with PID 19908 (/home/liso/Dropbox/workspaces/java/show-service/out/production/classes started by liso in /home/liso/Dropbox/workspaces/java/show-service)
2019-04-12 16:01:07,870 INFO  [main] ShowServiceApplication : The following profiles are active: dev
2019-04-12 16:01:08,631 INFO  [main] RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-04-12 16:01:08,678 INFO  [main] RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42ms. Found 5 repository interfaces.
2019-04-12 16:01:08,931 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b1a0b12f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 16:01:08,968 INFO  [main] PostProcessorRegistrationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$3120fe61] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-04-12 16:01:09,155 INFO  [main] TomcatWebServer : Tomcat initialized with port(s): 8080 (http)
2019-04-12 16:01:09,169 INFO  [main] StandardService : Starting service [Tomcat]
2019-04-12 16:01:09,169 INFO  [main] StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-04-12 16:01:09,173 INFO  [main] AprLifecycleListener : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]
2019-04-12 16:01:09,219 INFO  [main] [/] : Initializing Spring embedded WebApplicationContext
2019-04-12 16:01:09,220 DEBUG [main] ContextLoader : Published root WebApplicationContext as ServletContext attribute with name [org.springframework.web.context.WebApplicationContext.ROOT]
2019-04-12 16:01:09,220 INFO  [main] ContextLoader : Root WebApplicationContext: initialization completed in 1321 ms
2019-04-12 16:01:09,556 INFO  [main] HikariDataSource : HikariPool-1 - Starting...
2019-04-12 16:01:09,557 WARN  [main] DriverDataSource : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2019-04-12 16:01:09,759 INFO  [main] HikariDataSource : HikariPool-1 - Start completed.
2019-04-12 16:01:09,788 INFO  [main] LogHelper : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-04-12 16:01:09,818 INFO  [main] Version : HHH000412: Hibernate Core {5.3.7.Final}
2019-04-12 16:01:09,819 INFO  [main] Environment : HHH000206: hibernate.properties not found
2019-04-12 16:01:09,885 INFO  [main] Version : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-04-12 16:01:09,968 INFO  [main] Dialect : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2019-04-12 16:01:10,457 INFO  [main] LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-04-12 16:01:10,660 INFO  [main] QueryTranslatorFactoryInitiator : HHH000397: Using ASTQueryTranslatorFactory
2019-04-12 16:01:11,057 WARN  [main] JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-04-12 16:01:11,091 DEBUG [main] RequestMappingHandlerMapping : 11 mappings in 'requestMappingHandlerMapping'
2019-04-12 16:01:11,132 INFO  [main] EndpointLinksResolver : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-04-12 16:01:11,183 INFO  [main] PropertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-04-12 16:01:11,274 DEBUG [main] RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2019-04-12 16:01:11,292 DEBUG [main] ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2019-04-12 16:01:11,463 INFO  [main] DocumentationPluginsBootstrapper : Context refreshed
2019-04-12 16:01:11,472 INFO  [main] DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-04-12 16:01:11,486 INFO  [main] ApiListingReferenceScanner : Scanning for api listing references
2019-04-12 16:01:11,588 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_1
2019-04-12 16:01:11,589 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_2
2019-04-12 16:01:11,590 INFO  [main] CachingOperationNameGenerator : Generating unique operation named: handleUsingGET_3
2019-04-12 16:01:11,643 INFO  [main] TomcatWebServer : Tomcat started on port(s): 8080 (http) with context path ''
2019-04-12 16:01:11,645 INFO  [main] ShowServiceApplication : Started ShowServiceApplication in 4.079 seconds (JVM running for 4.382)
2019-04-12 16:01:12,082 INFO  [RMI TCP Connection(1)-127.0.0.1] [/] : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-04-12 16:01:12,082 INFO  [RMI TCP Connection(1)-127.0.0.1] DispatcherServlet : Initializing Servlet 'dispatcherServlet'
2019-04-12 16:01:12,082 DEBUG [RMI TCP Connection(1)-127.0.0.1] DispatcherServlet : Detected StandardServletMultipartResolver
2019-04-12 16:01:12,090 DEBUG [RMI TCP Connection(1)-127.0.0.1] DispatcherServlet : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2019-04-12 16:01:12,090 INFO  [RMI TCP Connection(1)-127.0.0.1] DispatcherServlet : Completed initialization in 8 ms
2019-04-12 16:01:14,585 DEBUG [http-nio-8080-exec-1] DispatcherServlet : GET "/shows/imdb/1", parameters={}
2019-04-12 16:01:14,591 DEBUG [http-nio-8080-exec-1] RequestMappingHandlerMapping : Mapped to public java.lang.String cloud.liso.showservice.controllers.ImdbController.getImdbUrl(int)
2019-04-12 16:01:14,620 DEBUG [http-nio-8080-exec-1] SQL : 
    select
        show0_.imdb_url as col_0_0_ 
    from
        shows show0_ 
    where
        show0_.show_id=?
2019-04-12 16:01:14,624 TRACE [http-nio-8080-exec-1] BasicBinder : binding parameter [1] as [INTEGER] - [1]
2019-04-12 16:01:17,270 DEBUG [http-nio-8080-exec-1] RequestResponseBodyMethodProcessor : Using 'application/json;charset=UTF-8', given [*/*] and supported [application/json;charset=UTF-8]
2019-04-12 16:01:17,271 DEBUG [http-nio-8080-exec-1] RequestResponseBodyMethodProcessor : Writing ["https://www.imdb.com/title/tt1553656/videoplayer/vi3897206297"]
2019-04-12 16:01:17,275 DEBUG [http-nio-8080-exec-1] DispatcherServlet : Completed 200 OK
2019-04-12 16:01:18,714 DEBUG [http-nio-8080-exec-3] DispatcherServlet : GET "/shows/imdb/1", parameters={}
2019-04-12 16:01:18,716 DEBUG [http-nio-8080-exec-3] RequestMappingHandlerMapping : Mapped to public java.lang.String cloud.liso.showservice.controllers.ImdbController.getImdbUrl(int)
2019-04-12 16:01:18,717 DEBUG [http-nio-8080-exec-3] RequestResponseBodyMethodProcessor : Using 'application/json;charset=UTF-8', given [*/*] and supported [application/json;charset=UTF-8]
2019-04-12 16:01:18,717 DEBUG [http-nio-8080-exec-3] RequestResponseBodyMethodProcessor : Writing ["https://www.imdb.com/title/tt1553656/videoplayer/vi3897206297"]
2019-04-12 16:01:18,718 DEBUG [http-nio-8080-exec-3] DispatcherServlet : Completed 200 OK
2019-04-12 16:01:19,999 DEBUG [http-nio-8080-exec-4] DispatcherServlet : GET "/shows/imdb/1", parameters={}
2019-04-12 16:01:20,000 DEBUG [http-nio-8080-exec-4] RequestMappingHandlerMapping : Mapped to public java.lang.String cloud.liso.showservice.controllers.ImdbController.getImdbUrl(int)
2019-04-12 16:01:20,001 DEBUG [http-nio-8080-exec-4] RequestResponseBodyMethodProcessor : Using 'application/json;charset=UTF-8', given [*/*] and supported [application/json;charset=UTF-8]
2019-04-12 16:01:20,001 DEBUG [http-nio-8080-exec-4] RequestResponseBodyMethodProcessor : Writing ["https://www.imdb.com/title/tt1553656/videoplayer/vi3897206297"]
2019-04-12 16:01:20,002 DEBUG [http-nio-8080-exec-4] DispatcherServlet : Completed 200 OK
2019-04-12 16:06:51,649 DEBUG [http-nio-8080-exec-7] DispatcherServlet : GET "/shows/imdb/1", parameters={}
2019-04-12 16:06:51,650 DEBUG [http-nio-8080-exec-7] RequestMappingHandlerMapping : Mapped to public java.lang.String cloud.liso.showservice.controllers.ImdbController.getImdbUrl(int)
2019-04-12 16:06:51,651 DEBUG [http-nio-8080-exec-7] RequestResponseBodyMethodProcessor : Using 'application/json;charset=UTF-8', given [*/*] and supported [application/json;charset=UTF-8]
2019-04-12 16:06:51,651 DEBUG [http-nio-8080-exec-7] RequestResponseBodyMethodProcessor : Writing ["https://www.imdb.com/title/tt1553656/videoplayer/vi3897206297"]
2019-04-12 16:06:51,652 DEBUG [http-nio-8080-exec-7] DispatcherServlet : Completed 200 OK
